import{_ as U}from"./Br_2l1z2.js";import{_ as j}from"./VgBGaiWr.js";import{_ as q,a as T}from"./2EICDMI2.js";import{_ as Y}from"./DWlvRo0f.js";import{_ as E}from"./iSq_GXOF.js";import{_ as F}from"./fc9N2lAZ.js";import{_ as P}from"./BxE-QSiJ.js";import{f as D,A as J,s as O,M as x,C as W,B as H,W as K,c as y,a as n,j as N,i as g,k as e,b as s,w as r,g as L,o as d,D as Q,I as w}from"#entry";import{n as X}from"./Zkazc4B7.js";import Z from"./CEP9D3Eg.js";import{c as C}from"./DyueXa58.js";import{save as ee}from"./CU8zT3Oi.js";import{d as oe}from"./CYevZm-i.js";import{C as ae}from"./HZ3APyaO.js";import{u as te}from"./BoFo4Dkd.js";import{u as se}from"./DmuB_ewQ.js";import{V as le}from"./Bpj5i2tL.js";import"./BrTgbP-L.js";import"./BZPIhiCP.js";import"./DOVLR_vN.js";import"./Dx-2vZsd.js";import"./BePoOrxp.js";import"./CZ9GQ99X.js";import"./Cp9dvClo.js";import"./jFYhBC76.js";import"./DX__6iYn.js";import"./3OEFcGef.js";import"./CQ9DD0Tp.js";import"./OPR3eTXJ.js";import"./C349kGaG.js";import"./fgKd3tbi.js";import"./CPO5dxYl.js";import"./BS_72L4C.js";const ne={class:"w-full"},re={class:"lg:max-w-[70%] mx-auto"},ie={class:"my-5"},me={key:0},de={class:"grid md:grid-cols-2 gap-2.5"},ue={key:0,class:"flex items-center gap-2.5 justify-between"},Oe=D({__name:"index",async setup(ce){let c,S;const{applicationId:u=""}=te(),G=J(),{data:l,error:v,refresh:b}=([c,S]=O(()=>se(`/api/users/applicant/applications/${u}`,"$xfgWVv4b5S")),c=await c,S(),c),h=x(()=>({course:l.value?.course??void 0,degreeType:l.value?.degreeType??"",jambRegNumber:l.value?.jambRegNumber??"",secondarySchoolName:l.value?.secondarySchoolName??"",secondarySchoolAddress:l.value?.secondarySchoolAddress??"",secondarySchoolGraduationMonth:l.value?.secondarySchoolGraduationMonth??"",secondarySchoolGraduationYear:l.value?.secondarySchoolGraduationYear??void 0})),a=W({...h.value}),$=x(()=>JSON.stringify(a)!==JSON.stringify(h.value)),p=H(a.course?{label:a.course,value:"",faculty:""}:void 0);K(p,m=>{a.course=m?.label});const f=async m=>{await ee({applicationId:u,state:a,schema:C,toast:G,onSuccess:()=>{m()}})},A=[{label:"Save and Continue",onSelect:async()=>{await f(()=>{w(`/application/portal/${u}/documents`)})}},{label:"Save Only",onSelect:async()=>{await f(()=>{b()})}},{label:"Save and Exit",onSelect:async()=>{await f(()=>{w("/application/portal")})}}];return(m,o)=>{const k=U,z=j,i=T,M=Y,_=E,R=F,B=P,I=q,V=L;return d(),y("div",ne,[n("div",re,[o[10]||(o[10]=n("header",null,[n("h1",{class:"text-xl font-bold"},"Academic Information"),n("p",{class:"text-sm muted"}," Please provide accurate academic information. You can save your progress and return later to complete the application.")],-1)),n("section",ie,[e(v)?(d(),y("div",me,[s(k,{message:("normalizeException"in m?m.normalizeException:e(X))(e(v)).message,"show-retry":"",onRetry:e(b)},null,8,["message","onRetry"])])):e(l)?(d(),g(I,{key:1,state:e(a),schema:e(C),disabled:e(l).status!=="pending"},{default:r(()=>[n("div",de,[o[8]||(o[8]=n("div",{class:"md:col-span-2"},[n("p",{class:"text-lg font-semibold"},"Course Choice")],-1)),s(i,{name:"course",label:"Course of Study",required:""},{default:r(()=>[s(z,{modelValue:e(p),"onUpdate:modelValue":o[0]||(o[0]=t=>Q(p)?p.value=t:null),item:"department",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),s(i,{name:"degreeType",label:"Degree",required:""},{default:r(()=>[s(M,{modelValue:e(a).degreeType,"onUpdate:modelValue":o[1]||(o[1]=t=>e(a).degreeType=t),items:e(oe).map(t=>t.code),class:"w-full",size:"lg"},null,8,["modelValue","items"])]),_:1}),o[9]||(o[9]=n("div",{class:"mt-5 md:col-span-2"},[n("p",{class:"text-lg font-semibold"},"Institution Data")],-1)),s(i,{name:"jambRegNumber",label:"JAMB Registration Number",required:""},{default:r(()=>[s(_,{modelValue:e(a).jambRegNumber,"onUpdate:modelValue":o[2]||(o[2]=t=>e(a).jambRegNumber=t),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"secondarySchoolName",label:"Name of Secondary Institution",required:""},{default:r(()=>[s(_,{modelValue:e(a).secondarySchoolName,"onUpdate:modelValue":o[3]||(o[3]=t=>e(a).secondarySchoolName=t),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"secondarySchoolAddress",label:"Address of Secondary Institution",required:"",class:"md:col-span-2"},{default:r(()=>[s(_,{modelValue:e(a).secondarySchoolAddress,"onUpdate:modelValue":o[4]||(o[4]=t=>e(a).secondarySchoolAddress=t),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"secondarySchoolGraduationMonth",label:"Month of Graduation",required:""},{default:r(()=>[s(R,{modelValue:e(a).secondarySchoolGraduationMonth,"onUpdate:modelValue":o[5]||(o[5]=t=>e(a).secondarySchoolGraduationMonth=t),items:e(ae).months().long,class:"w-full",size:"lg"},null,8,["modelValue","items"])]),_:1}),s(i,{name:"secondarySchoolGraduationYear",label:"Year of Graduation",required:""},{default:r(()=>[s(B,{modelValue:e(a).secondarySchoolGraduationYear,"onUpdate:modelValue":o[6]||(o[6]=t=>e(a).secondarySchoolGraduationYear=t),class:"w-full",size:"lg",orientation:"vertical","format-options":{useGrouping:"false"}},null,8,["modelValue"])]),_:1})])]),_:1},8,["state","schema","disabled"])):N("",!0)]),e(l)?(d(),y("footer",ue,[s(V,{label:"Previous",color:"neutral",variant:"soft",onClick:o[7]||(o[7]=t=>e(Z)(e($),`/application/portal/${e(u)}/family-info`))}),e(l).status!=="pending"?(d(),g(V,{key:0,to:`/application/portal/${e(u)}/documents`,label:"Next"},null,8,["to"])):(d(),g(e(le),{key:1,items:A}))])):N("",!0)])])}}});export{Oe as default};
