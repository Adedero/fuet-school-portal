import{_ as E}from"./BtPAQVJY.js";import{_ as S}from"./CsCpuQOu.js";import{_ as z,a as B}from"./tvyaI-9O.js";import{f as F,A as u,z as A,c as p,a as s,b as t,t as I,k as o,j as P,w as l,B as R,d as _,J as j,e as q,s as M,o as d,l as T,g as U,C as D}from"#entry";import{_ as G}from"./BzoIj2I_.js";import{_ as J}from"./DrzXPWwZ.js";import{z as f}from"./BnhhJy-q.js";import{n as L}from"./Zkazc4B7.js";import"./BaSubFUB.js";import"./PZTdxXR1.js";const H={class:"text-sm text-muted"},K={class:"my-5"},O={key:0,class:"mb-3"},Q={class:"text-sm text-muted"},W={class:"space-y-3"},re=F({__name:"index",setup(X){const m=T(),n=u(!1),x=f.object({email:f.email("Email is invalid")}),a=A({email:""});function v(){a.email=""}const i=u(null);async function y(c){i.value=null,await D.requestPasswordReset({email:c.data.email,redirectTo:"/reset-password"},{onError(e){i.value=L(e.error)},onSuccess(){v(),n.value=!0}})}return(c,e)=>{const b=E,g=S,N=B,w=U,k=z,h=G,C=q,$=J,V=M;return d(),p("div",null,[e[5]||(e[5]=s("h1",{class:"text-lg font-semibold"},"Forgot Password",-1)),s("div",H," If you've forgotten your password, we can help you recover your "+I(o(m).public.appName)+" account. ",1),s("div",K,[o(i)?(d(),p("div",O,[t(b,{message:o(i).message},null,8,["message"])])):P("",!0),t(k,{schema:o(x),state:o(a),class:"space-y-4",onSubmit:R(y,["prevent"])},{default:l(()=>[t(N,{label:"Email",name:"email"},{default:l(()=>[t(g,{modelValue:o(a).email,"onUpdate:modelValue":e[0]||(e[0]=r=>o(a).email=r),size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),t(w,{type:"submit",class:"mt-2 w-full flex-center",size:"lg",icon:"i-lucide:check-circle","loading-auto":"",label:"Submit"})]),_:1},8,["schema","state"])]),s("div",null,[t(h,{class:"my-5"}),s("p",Q,[e[3]||(e[3]=_(" Go back to ",-1)),t(C,{class:"link",to:"/login"},{default:l(()=>[...e[2]||(e[2]=[_(" log in. ",-1)])]),_:1})])]),t(V,{open:o(n),"onUpdate:open":e[1]||(e[1]=r=>j(n)?n.value=r:null),title:"Password reset request"},{body:l(()=>[s("div",W,[e[4]||(e[4]=s("p",null," Click the link that has been sent to your email address to complete the password recovery process. ",-1)),t($,{variant:"subtle",color:"info",icon:"i-lucide:triangle-alert",ui:{description:"text-[0.8rem]"},description:`If you do not see an email, you may not have an ${o(m).public.appName} account.`},null,8,["description"])])]),_:1},8,["open"])])}}});export{re as default};
