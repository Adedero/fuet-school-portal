import{_ as q}from"./Br_2l1z2.js";import{_ as R}from"./CdUQPPYw.js";import{_ as U,a as C}from"./CfG1-w7I.js";import{_ as F}from"./Cw4EdzfB.js";import{_ as B}from"./DUGQhyV-.js";import{f as E,A as I,s as M,M as S,C as T,c as x,a as o,j as w,i as P,k as e,b as s,w as r,g as j,o as m,I as y}from"#entry";import{n as J}from"./Zkazc4B7.js";import W from"./Wrkt37G_.js";import{b as O}from"./DFsRs8ow.js";import{save as D}from"./CU8zT3Oi.js";import{u as G}from"./BoFo4Dkd.js";import{u as H}from"./C1RyDYw7.js";import{V as L}from"./BMemOHGN.js";import"./BrTgbP-L.js";import"./D1lORq9n.js";import"./BZPIhiCP.js";import"./DxgE_vvP.js";import"./CrxYuplo.js";import"./C7XPntmp.js";import"./BXv2KLq8.js";import"./jFYhBC76.js";import"./DD2e9X2d.js";import"./bGYnQNJU.js";import"./ChM03Ocf.js";import"./Z0nxItcX.js";import"./BFQ-zme-.js";import"./CMJ2FhCh.js";import"./CPO5dxYl.js";import"./yYfIByUV.js";const Q=["father","mother","brother","sister","son","daughter","foster-parent","step-son","step-daughter","uncle","aunt","cousin","nephew","neice","friend","guardian","ward","grandfather","grandmother","great grandfather","great grandmother","acquaintance","other"],X={class:"w-full"},Y={class:"lg:max-w-[70%] mx-auto"},Z={class:"my-5"},ee={key:0},te={class:"grid md:grid-cols-2 gap-2.5"},ae={key:0,class:"flex items-center gap-2.5 justify-between"},qe=E({__name:"index",async setup(se){let p,g;const{applicationId:u=""}=G(),K=I(),{data:l,error:_,refresh:N}=([p,g]=M(()=>H(`/api/users/applicant/applications/${u}`,"$hM69xW_RkK")),p=await p,g(),p),v=S(()=>({firstParentName:l.value?.firstParentName??"",firstParentAddress:l.value?.firstParentAddress??"",firstParentStatus:l.value?.firstParentStatus??"living",secondParentName:l.value?.secondParentName??"",secondParentAddress:l.value?.secondParentAddress??"",secondParentStatus:l.value?.secondParentStatus??"living",nextOfKinName:l.value?.nextOfKinName??"",nextOfKinAddress:l.value?.nextOfKinAddress??"",nextOfKinPhoneNumber:l.value?.nextOfKinPhoneNumber??"",nextOfKinRelationship:l.value?.nextOfKinRelationship??""})),a=T({...v.value}),A=S(()=>JSON.stringify(a)!==JSON.stringify(v.value)),c=async f=>{await D({applicationId:u,state:a,schema:O,toast:K,onSuccess:()=>{f()}})},h=[{label:"Save and Continue",onSelect:async()=>{await c(()=>{y(`/application/portal/${u}/academic-info`)})}},{label:"Save Only",onSelect:async()=>{await c(()=>{N()})}},{label:"Save and Exit",onSelect:async()=>{await c(()=>{y("/application/portal")})}}];return(f,t)=>{const k=q,d=R,i=C,V=F,z=B,$=U,b=j;return m(),x("div",X,[o("div",Y,[t[14]||(t[14]=o("header",null,[o("h1",{class:"text-xl font-bold"},"Family Information"),o("p",{class:"text-sm muted"}," Please provide accurate information about your parents and next of kin. This information is essential for your application process. ")],-1)),o("section",Z,[e(_)?(m(),x("div",ee,[s(k,{message:("normalizeException"in f?f.normalizeException:e(J))(e(_)).message,"show-retry":"",onRetry:e(N)},null,8,["message","onRetry"])])):e(l)?(m(),P($,{key:1,state:e(a),schema:e(O),disabled:e(l).status!=="pending"},{default:r(()=>[o("div",te,[t[11]||(t[11]=o("div",{class:"md:col-span-2"},[o("p",{class:"text-lg font-semibold"},"Parent 1")],-1)),s(i,{name:"firstParentName",label:"Full Name",required:""},{default:r(()=>[s(d,{modelValue:e(a).firstParentName,"onUpdate:modelValue":t[0]||(t[0]=n=>e(a).firstParentName=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"firstParentStatus",label:"Status",required:""},{default:r(()=>[s(V,{modelValue:e(a).firstParentStatus,"onUpdate:modelValue":t[1]||(t[1]=n=>e(a).firstParentStatus=n),items:["living","deceased"],class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"firstParentAddress",label:"Address",required:"",class:"md:col-span-2"},{default:r(()=>[s(d,{modelValue:e(a).firstParentAddress,"onUpdate:modelValue":t[2]||(t[2]=n=>e(a).firstParentAddress=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),t[12]||(t[12]=o("div",{class:"mt-5 md:col-span-2"},[o("p",{class:"text-lg font-semibold"},"Parent 2")],-1)),s(i,{name:"secondParentName",label:"Full Name",required:""},{default:r(()=>[s(d,{modelValue:e(a).secondParentName,"onUpdate:modelValue":t[3]||(t[3]=n=>e(a).secondParentName=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"secondParentStatus",label:"Status",required:""},{default:r(()=>[s(V,{modelValue:e(a).secondParentStatus,"onUpdate:modelValue":t[4]||(t[4]=n=>e(a).secondParentStatus=n),items:["living","deceased"],class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"secondParentAddress",label:"Address",required:"",class:"md:col-span-2"},{default:r(()=>[s(d,{modelValue:e(a).secondParentAddress,"onUpdate:modelValue":t[5]||(t[5]=n=>e(a).secondParentAddress=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),t[13]||(t[13]=o("div",{class:"mt-5 md:col-span-2"},[o("p",{class:"text-lg font-semibold"},"Next of Kin")],-1)),s(i,{name:"nextOfKinName",label:"Full Name",required:""},{default:r(()=>[s(d,{modelValue:e(a).nextOfKinName,"onUpdate:modelValue":t[6]||(t[6]=n=>e(a).nextOfKinName=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"nextOfKinRelationship",label:"Relationship",required:""},{default:r(()=>[s(z,{modelValue:e(a).nextOfKinRelationship,"onUpdate:modelValue":t[7]||(t[7]=n=>e(a).nextOfKinRelationship=n),items:e(Q),class:"w-full",size:"lg"},null,8,["modelValue","items"])]),_:1}),s(i,{name:"nextOfKinPhoneNumber",label:"Phone Number",required:""},{default:r(()=>[s(d,{modelValue:e(a).nextOfKinPhoneNumber,"onUpdate:modelValue":t[8]||(t[8]=n=>e(a).nextOfKinPhoneNumber=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"nextOfKinAddress",label:"Address",required:""},{default:r(()=>[s(d,{modelValue:e(a).nextOfKinAddress,"onUpdate:modelValue":t[9]||(t[9]=n=>e(a).nextOfKinAddress=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1})])]),_:1},8,["state","schema","disabled"])):w("",!0)]),e(l)?(m(),x("footer",ae,[s(b,{label:"Previous",color:"neutral",variant:"soft",onClick:t[10]||(t[10]=n=>e(W)(e(A),`/application/portal/${e(u)}/personal-info`))}),e(l).status!=="pending"?(m(),P(b,{key:0,to:`/application/portal/${e(u)}/academic-info`,label:"Next"},null,8,["to"])):(m(),P(e(L),{key:1,items:h}))])):w("",!0)])])}}});export{qe as default};
