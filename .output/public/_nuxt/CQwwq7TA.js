import{_ as re}from"./C8ibforH.js";import{_ as W}from"./BtPAQVJY.js";import{u as H}from"./Dd6P5Vqf.js";import{L as ie,f as F,M as X,N as Z,O as I,P as $,i as x,o as c,w as q,Q as C,j as z,k as a,R as A,B as ee,S as D,T as ae,b as y,U as oe,A as B,V as T,W as de,X as ne,Y as K,Z as O,K as ue,c as R,$ as ce,a0 as pe,a1 as fe,a2 as me,a3 as ve,a4 as be,a5 as Y,a as m,a6 as S,d as E,t as P,F as ge,r as he,a7 as J,a8 as j,g as te,n as ye,J as U,E as _e}from"#entry";import{L as Q}from"./PZTdxXR1.js";import{u as ke}from"./DGOa__Ri.js";import{u as se}from"./CG7Kytdp.js";import{R as qe}from"./DY9up4i8.js";import{V as le}from"./CrQKmWKl.js";import{R as we}from"./CT8naASD.js";import{_ as xe}from"./BzoIj2I_.js";import{_ as Ve}from"./CW3OX1Zc.js";import{_ as Re}from"./B0CdBYUg.js";import{n as ze}from"./Zkazc4B7.js";import{columns as $e}from"./C1CszNHS.js";import"./CAoX7tgf.js";import"./ByYrLWxT.js";import"./BaSubFUB.js";import"./CsCpuQOu.js";import"./DrzXPWwZ.js";import"./CuGSGFmI.js";import"./DFpZvX7f.js";const Se="radio.select";function Ce(o,d,e){ie(Se,e,{originalEvent:o,value:d})}var Fe=F({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(o,{emit:d}){const e=o,t=d,l=X(e,"checked",t,{passive:e.checked===void 0}),{value:v}=Z(e),{forwardRef:s,currentElement:i}=I(),p=se(i),b=$(()=>e.id&&i.value?document.querySelector(`[for="${e.id}"]`)?.innerText??e.value:void 0);function h(r){e.disabled||Ce(r,e.value,w=>{t("select",w),!w?.defaultPrevented&&(l.value=!0,p.value&&w.stopPropagation())})}return(r,w)=>(c(),x(a(D),A(r.$attrs,{id:r.id,ref:a(s),role:"radio",type:r.as==="button"?"button":void 0,as:r.as,"aria-checked":a(l),"aria-label":b.value,"as-child":r.asChild,disabled:r.disabled?"":void 0,"data-state":a(l)?"checked":"unchecked","data-disabled":r.disabled?"":void 0,value:a(v),required:r.required,name:r.name,onClick:ee(h,["stop"])}),{default:q(()=>[C(r.$slots,"default",{checked:a(l)}),a(p)&&r.name?(c(),x(a(le),{key:0,type:"radio",tabindex:"-1",value:a(v),checked:!!a(l),name:r.name,disabled:r.disabled,required:r.required},null,8,["value","checked","name","disabled","required"])):z("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),Pe=Fe;const[Ae,Be]=ae("RadioGroupRoot");var Ee=F({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(o,{emit:d}){const e=o,t=d,{forwardRef:l,currentElement:v}=I(),s=X(e,"modelValue",t,{defaultValue:e.defaultValue,passive:e.modelValue===void 0}),{disabled:i,loop:p,orientation:b,name:h,required:r,dir:w}=Z(e),_=ke(w),f=se(v);return Be({modelValue:s,changeModelValue:n=>{s.value=n},disabled:i,loop:p,orientation:b,name:h?.value,required:r}),(n,k)=>(c(),x(a(qe),{"as-child":"",orientation:a(b),dir:a(_),loop:a(p)},{default:q(()=>[y(a(D),{ref:a(l),role:"radiogroup","data-disabled":a(i)?"":void 0,"as-child":n.asChild,as:n.as,"aria-orientation":a(b),"aria-required":a(r),dir:a(_)},{default:q(()=>[C(n.$slots,"default",{modelValue:a(s)}),a(f)&&a(h)?(c(),x(a(le),{key:0,required:a(r),disabled:a(i),value:a(s),name:a(h)},null,8,["required","disabled","value","name"])):z("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),Ge=Ee;const[Ie,Me]=ae("RadioGroupItem");var Ne=F({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(o,{emit:d}){const e=o,t=d,{forwardRef:l,currentElement:v}=I(),s=Ae(),i=$(()=>s.disabled.value||e.disabled),p=$(()=>s.required.value||e.required),b=$(()=>oe(s.modelValue?.value,e.value));Me({disabled:i,checked:b});const h=B(!1),r=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];T("keydown",_=>{r.includes(_.key)&&(h.value=!0)}),T("keyup",()=>{h.value=!1});function w(){setTimeout(()=>{h.value&&v.value?.click()},0)}return(_,f)=>(c(),x(a(we),{checked:b.value,disabled:i.value,"as-child":"",focusable:!i.value,active:b.value},{default:q(()=>[y(Pe,A({..._.$attrs,...e},{ref:a(l),checked:b.value,required:p.value,disabled:i.value,"onUpdate:checked":f[0]||(f[0]=n=>a(s).changeModelValue(_.value)),onSelect:f[1]||(f[1]=n=>t("select",n)),onKeydown:f[2]||(f[2]=de(ee(()=>{},["prevent"]),["enter"])),onFocus:w}),{default:q(()=>[C(_.$slots,"default",{checked:b.value,required:p.value,disabled:i.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),Le=Ne,je=F({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(o){const{forwardRef:d}=I(),e=Ie();return(t,l)=>(c(),x(a(ne),{present:t.forceMount||a(e).checked.value},{default:q(()=>[y(a(D),A({ref:a(d),"data-state":a(e).checked.value?"checked":"unchecked","data-disabled":a(e).disabled.value?"":void 0,"as-child":t.asChild,as:t.as},t.$attrs),{default:q(()=>[C(t.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Ue=je;const Ke=F({__name:"session-select",props:K({size:{default:"md"},placeholder:{default:"Select session"}},{modelValue:{default:void 0},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const{data:d,error:e,pending:t,execute:l}=H("/api/general/academic-sessions","$gt_KmGtjQ6"),v=$(()=>d.value??[]),s=O(o,"modelValue");return ue(async()=>{await l()}),(i,p)=>{const b=re,h=W;return c(),R("div",null,[a(t)||a(d)?(c(),x(b,A({key:0,modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=r=>s.value=r),items:a(v),"label-key":"name",loading:a(t),size:i.size,placeholder:i.placeholder},i.$attrs),null,16,["modelValue","items","loading","size","placeholder"])):a(e)?(c(),x(h,{key:1,message:"Failed to get academic sessions","show-retry":"",onRetry:a(l)},null,8,["onRetry"])):z("",!0)])}}}),De=Object.assign(Ke,{__name:"AppSessionSelect"}),Oe={slots:{root:"relative",fieldset:"flex gap-x-2",legend:"mb-1 block font-medium text-default",item:"flex items-start",container:"flex items-center",base:"rounded-full ring ring-inset ring-accented overflow-hidden focus-visible:outline-2 focus-visible:outline-offset-2",indicator:"flex items-center justify-center size-full after:bg-default after:rounded-full",wrapper:"w-full",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"focus-visible:outline-primary",indicator:"bg-primary"},secondary:{base:"focus-visible:outline-secondary",indicator:"bg-secondary"},success:{base:"focus-visible:outline-success",indicator:"bg-success"},info:{base:"focus-visible:outline-info",indicator:"bg-info"},warning:{base:"focus-visible:outline-warning",indicator:"bg-warning"},error:{base:"focus-visible:outline-error",indicator:"bg-error"},neutral:{base:"focus-visible:outline-inverted",indicator:"bg-inverted"}},variant:{list:{item:""},card:{item:"border border-muted rounded-lg"},table:{item:"border border-muted"}},orientation:{horizontal:{fieldset:"flex-row"},vertical:{fieldset:"flex-col"}},indicator:{start:{item:"flex-row",wrapper:"ms-2"},end:{item:"flex-row-reverse",wrapper:"me-2"},hidden:{base:"sr-only",wrapper:"text-center"}},size:{xs:{fieldset:"gap-y-0.5",legend:"text-xs",base:"size-3",item:"text-xs",container:"h-4",indicator:"after:size-1"},sm:{fieldset:"gap-y-0.5",legend:"text-xs",base:"size-3.5",item:"text-xs",container:"h-4",indicator:"after:size-1"},md:{fieldset:"gap-y-1",legend:"text-sm",base:"size-4",item:"text-sm",container:"h-5",indicator:"after:size-1.5"},lg:{fieldset:"gap-y-1",legend:"text-sm",base:"size-4.5",item:"text-sm",container:"h-5",indicator:"after:size-1.5"},xl:{fieldset:"gap-y-1.5",legend:"text-base",base:"size-5",item:"text-base",container:"h-6",indicator:"after:size-2"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75"}},required:{true:{legend:"after:content-['*'] after:ms-0.5 after:text-error"}}},compoundVariants:[{size:"xs",variant:["card","table"],class:{item:"p-2.5"}},{size:"sm",variant:["card","table"],class:{item:"p-3"}},{size:"md",variant:["card","table"],class:{item:"p-3.5"}},{size:"lg",variant:["card","table"],class:{item:"p-4"}},{size:"xl",variant:["card","table"],class:{item:"p-4.5"}},{orientation:"horizontal",variant:"table",class:{item:"first-of-type:rounded-s-lg last-of-type:rounded-e-lg",fieldset:"gap-0 -space-x-px"}},{orientation:"vertical",variant:"table",class:{item:"first-of-type:rounded-t-lg last-of-type:rounded-b-lg",fieldset:"gap-0 -space-y-px"}},{color:"primary",variant:"card",class:{item:"has-data-[state=checked]:border-primary"}},{color:"secondary",variant:"card",class:{item:"has-data-[state=checked]:border-secondary"}},{color:"success",variant:"card",class:{item:"has-data-[state=checked]:border-success"}},{color:"info",variant:"card",class:{item:"has-data-[state=checked]:border-info"}},{color:"warning",variant:"card",class:{item:"has-data-[state=checked]:border-warning"}},{color:"error",variant:"card",class:{item:"has-data-[state=checked]:border-error"}},{color:"neutral",variant:"card",class:{item:"has-data-[state=checked]:border-inverted"}},{color:"primary",variant:"table",class:{item:"has-data-[state=checked]:bg-primary/10 has-data-[state=checked]:border-primary/50 has-data-[state=checked]:z-[1]"}},{color:"secondary",variant:"table",class:{item:"has-data-[state=checked]:bg-secondary/10 has-data-[state=checked]:border-secondary/50 has-data-[state=checked]:z-[1]"}},{color:"success",variant:"table",class:{item:"has-data-[state=checked]:bg-success/10 has-data-[state=checked]:border-success/50 has-data-[state=checked]:z-[1]"}},{color:"info",variant:"table",class:{item:"has-data-[state=checked]:bg-info/10 has-data-[state=checked]:border-info/50 has-data-[state=checked]:z-[1]"}},{color:"warning",variant:"table",class:{item:"has-data-[state=checked]:bg-warning/10 has-data-[state=checked]:border-warning/50 has-data-[state=checked]:z-[1]"}},{color:"error",variant:"table",class:{item:"has-data-[state=checked]:bg-error/10 has-data-[state=checked]:border-error/50 has-data-[state=checked]:z-[1]"}},{color:"neutral",variant:"table",class:{item:"has-data-[state=checked]:bg-elevated has-data-[state=checked]:border-inverted/50 has-data-[state=checked]:z-[1]"}},{variant:["card","table"],disabled:!0,class:{item:"cursor-not-allowed opacity-75"}}],defaultVariants:{size:"md",color:"primary",variant:"list",orientation:"vertical",indicator:"start"}},Te={__name:"NuxtRadioGroup",props:{as:{type:null,required:!1},legend:{type:String,required:!1},valueKey:{type:String,required:!1,default:"value"},labelKey:{type:String,required:!1,default:"label"},descriptionKey:{type:String,required:!1,default:"description"},items:{type:Array,required:!1},size:{type:null,required:!1},variant:{type:null,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:"vertical"},indicator:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},modelValue:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","change"],setup(o,{emit:d}){const e=o,t=d,l=ce(),v=pe(),s=fe(me(e,"as","modelValue","defaultValue","orientation","loop","required"),t),{emitFormChange:i,emitFormInput:p,color:b,name:h,size:r,id:w,disabled:_,ariaAttrs:f}=ve(e,{bind:!1}),n=w.value??be(),k=$(()=>Y({extend:Y(Oe),...v.ui?.radioGroup||{}})({size:r.value,color:b.value,disabled:_.value,required:e.required,orientation:e.orientation,variant:e.variant,indicator:e.indicator}));function M(g){if(g===null)return{id:`${n}:null`,value:void 0,label:void 0};if(typeof g=="string"||typeof g=="number"||typeof g=="bigint")return{id:`${n}:${g}`,value:String(g),label:String(g)};const V=j(g,e.valueKey),G=j(g,e.labelKey),u=j(g,e.descriptionKey);return{...g,value:V,label:G,description:u,id:`${n}:${V}`}}const N=$(()=>e.items?e.items.map(M):[]);function L(g){const V=new Event("change",{target:{value:g}});t("change",V),i(),p()}return(g,V)=>(c(),x(a(Ge),A({id:a(n)},a(s),{name:a(h),disabled:a(_),class:k.value.root({class:[e.ui?.root,e.class]}),"onUpdate:modelValue":L}),{default:q(({modelValue:G})=>[m("fieldset",A({class:k.value.fieldset({class:e.ui?.fieldset})},a(f)),[o.legend||l.legend?(c(),R("legend",{key:0,class:S(k.value.legend({class:e.ui?.legend}))},[C(g.$slots,"legend",{},()=>[E(P(o.legend),1)])],2)):z("",!0),(c(!0),R(ge,null,he(N.value,u=>(c(),x(J(!o.variant||o.variant==="list"?"div":a(Q)),{key:u.value,class:S(k.value.item({class:[e.ui?.item,u.ui?.item,u.class]}))},{default:q(()=>[m("div",{class:S(k.value.container({class:[e.ui?.container,u.ui?.container]}))},[y(a(Le),{id:u.id,value:u.value,disabled:u.disabled,class:S(k.value.base({class:[e.ui?.base,u.ui?.base],disabled:u.disabled}))},{default:q(()=>[y(a(Ue),{class:S(k.value.indicator({class:[e.ui?.indicator,u.ui?.indicator]}))},null,8,["class"])]),_:2},1032,["id","value","disabled","class"])],2),u.label||l.label||u.description||l.description?(c(),R("div",{key:0,class:S(k.value.wrapper({class:[e.ui?.wrapper,u.ui?.wrapper]}))},[u.label||l.label?(c(),x(J(!o.variant||o.variant==="list"?a(Q):"p"),{key:0,for:u.id,class:S(k.value.label({class:[e.ui?.label,u.ui?.label]}))},{default:q(()=>[C(g.$slots,"label",{item:u,modelValue:G},()=>[E(P(u.label),1)])]),_:2},1032,["for","class"])):z("",!0),u.description||l.description?(c(),R("p",{key:1,class:S(k.value.description({class:[e.ui?.description,u.ui?.description]}))},[C(g.$slots,"description",{item:u,modelValue:G},()=>[E(P(u.description),1)])],2)):z("",!0)],2)):z("",!0)]),_:2},1032,["class"]))),128))],16)]),_:3},16,["id","name","disabled","class"]))}},Ye={class:"p-5"},Je={class:"mt-2.5"},Qe={class:"grid gap-2"},We={class:"grid gap-2"},He=F({__name:"filter-select",props:{filters:{default:{status:"all",admissionFees:"all"}},filtersModifiers:{}},emits:["update:filters"],setup(o){const d=O(o,"filters");return(e,t)=>{const l=te,v=Te,s=xe,i=Ve;return c(),x(i,{title:"Filters"},{content:q(()=>[m("div",Ye,[t[4]||(t[4]=m("p",{class:"font-bold"},"Filters",-1)),m("div",Je,[m("div",Qe,[t[2]||(t[2]=m("p",{class:"text-sm font-semibold text-muted"},"Admission Status",-1)),y(v,{modelValue:d.value.status,"onUpdate:modelValue":t[0]||(t[0]=p=>d.value.status=p),items:["all","accepted","rejected"]},null,8,["modelValue"])]),y(s,{class:"my-2.5"}),m("div",We,[t[3]||(t[3]=m("p",{class:"text-sm font-semibold text-muted"},"Admission Fees",-1)),y(v,{modelValue:d.value.admissionFees,"onUpdate:modelValue":t[1]||(t[1]=p=>d.value.admissionFees=p),items:["all","paid","unpaid"]},null,8,["modelValue"])])])])]),default:q(()=>[C(e.$slots,"default",{},()=>[y(l,{icon:"lucide:filter",color:"neutral",variant:"ghost",size:"sm"})])]),_:3})}}}),Xe=Object.assign(He,{__name:"ApplicationFilterSelect"}),Ze={class:"w-full select-none"},ea={class:"w-full flex items-center justify-center gap-2 bg-white p-2 rounded-lg"},aa={class:"border border-default rounded-md flex p-1 items-center gap-2 flex-shrink-0 text-sm","aria-label":"Current Page"},ta={key:0,class:"text-center flex-shrink-0 py-1 px-2"},sa={class:"font-medium"},la={class:"font-medium"},ra={class:"border border-default text-center p-1 px-2 rounded-md"},ia={class:"font-medium text-muted"},oa={key:0,class:"text-center mt-2 text-sm text-muted"},da=F({__name:"pagination",props:K({allLoaded:{type:Boolean,default:!1},totalPages:{default:()=>{}},rows:{default:()=>{}},length:{default:()=>{}}},{page:{default:0},pageModifiers:{}}),emits:K(["next","prev"],["update:page"]),setup(o,{emit:d}){const e=O(o,"page"),t=d,l=()=>{e.value!==0&&(e.value-=1,t("prev",e.value))},v=()=>{o.allLoaded||o.totalPages!==void 0&&e.value>=o.totalPages-1||(e.value+=1,t("next",e.value))};return(s,i)=>{const p=te;return c(),R("div",Ze,[m("div",ea,[y(p,{"aria-label":"Previous Page",disabled:e.value<1,size:"sm",color:"neutral",variant:"outline",icon:"lucide:chevron-left",onClick:l},null,8,["disabled"]),m("div",aa,[s.rows&&s.length?(c(),R("div",ta,[m("span",sa,P(e.value*s.rows+1),1),i[0]||(i[0]=E(" to ",-1)),m("span",la,P(Math.min((e.value+1)*s.rows,s.length)),1)])):z("",!0),m("p",ra,[i[1]||(i[1]=E(" page ",-1)),m("span",ia,P(e.value+1),1)])]),y(p,{"aria-label":"Next Page",disabled:s.allLoaded||s.totalPages!==void 0&&e.value>=s.totalPages-1,size:"sm",color:"neutral",variant:"outline","trailing-icon":"lucide:chevron-right",onClick:v},null,8,["disabled"])]),s.allLoaded?(c(),R("div",oa," All data loaded ")):z("",!0)])}}}),na=Object.assign(da,{__name:"VuePagination"}),ua={class:"p-5"},ca={class:"flex items-center gap-5 justify-between"},pa={class:"flex items-center gap-2"},fa={class:"mt-5"},ma={key:0},va={key:1},ba={class:"flex justify-center border-t border-default pt-4"},Na=F({__name:"index",async setup(o){let d,e;const t=B(),l=B({status:"all",admissionFees:"all"}),v=B(20),s=B(0),i=$(()=>v.value*s.value),p=$(()=>{const f=new URLSearchParams;return l.value.status!=="all"&&f.set("admissionStatus",l.value.status),l.value.admissionFees!=="all"&&f.set("hasPaidAdmissionFees",l.value.admissionFees==="paid"?"true":""),t.value&&f.set("schoolSessionName",t.value.name),f.set("limit",v.value.toString()),f.set("offset",i.value.toString()),Object.fromEntries(f.entries())}),{data:b,error:h,refresh:r}=([d,e]=ye(()=>H("/api/users/admin/applications",{query:p},"$YPsJYU9EmC")),d=await d,e(),d),w=$(()=>(b.value?.length??0)<v.value);function _(f){const n=f.getValue("id");_e(`/portal/admin/applications/${n}`)}return(f,n)=>{const k=De,M=Xe,N=W,L=Re,g=na;return c(),R("div",ua,[m("header",null,[m("div",ca,[n[3]||(n[3]=m("h1",{class:"text-lg font-bold"},"Applications",-1)),m("div",pa,[y(k,{modelValue:a(t),"onUpdate:modelValue":n[0]||(n[0]=V=>U(t)?t.value=V:null),size:"sm"},null,8,["modelValue"]),y(M,{filters:a(l),"onUpdate:filters":n[1]||(n[1]=V=>U(l)?l.value=V:null)},null,8,["filters"])])])]),m("section",fa,[a(h)?(c(),R("div",ma,[y(N,{message:("normalizeException"in f?f.normalizeException:a(ze))(a(h)).message,"show-retry":"",onRetry:a(r)},null,8,["message","onRetry"])])):a(b)?(c(),R("div",va,[y(L,{data:a(b),columns:a($e),onSelect:_},null,8,["data","columns"]),m("div",ba,[y(g,{page:a(s),"onUpdate:page":n[2]||(n[2]=V=>U(s)?s.value=V:null),rows:a(v),length:a(b).length,"all-loaded":a(w)},null,8,["page","rows","length","all-loaded"])])])):z("",!0)])])}}});export{Na as default};
