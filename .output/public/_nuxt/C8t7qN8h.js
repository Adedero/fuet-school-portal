import{f as y,c as s,o as i,j as f,a4 as E,a as t,a5 as M,t as _,Y as R,y as w,w as C,b as r,d as V,h as D,k as c,l as B,g as b,a6 as j,i as F,$ as Y,F as G,r as L,a7 as T,m as I}from"#entry";import{_ as q}from"./J5OPYbuo.js";import{_ as H}from"./C-dqLt-K.js";import{_ as P}from"./u4IcHWfI.js";import{n as k}from"./Zkazc4B7.js";import{_ as O}from"./CTAcPmuG.js";import{u as U}from"./DQKF3S3D.js";import"./Bmdg00VV.js";import"./BIR4NytT.js";import"./BAo_7Th6.js";import"./Czq5MQWY.js";import"./BuBM793T.js";import"./EiriJ3tm.js";import"./OblAUDa1.js";import"./BGouyBw2.js";import"./HZ3APyaO.js";const K={class:"flex-col-center gap-2"},J=["fill","height","width"],Q=["height","width","fill"],W={id:"SVGRepo_iconCarrier"},X={key:2,class:"text-dimmed"},Z=y({__name:"empty-icon",props:{label:{type:String,required:!1,default:""},size:{type:String,required:!1,default:"120px"},fill:{type:String,required:!1,default:"var(--ui-text-dimmed)"},variant:{type:Number,required:!1,default:1}},setup(n){return(p,a)=>(i(),s("div",K,[!n.variant||n.variant===1?(i(),s("svg",{key:0,fill:n.fill,height:n.size,width:n.size,version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512","xml:space":"preserve"},[...a[0]||(a[0]=[E('<g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g><g><path d="M493.297,159.693c-12.477-30.878-31.231-59.828-56.199-84.792c-24.964-24.967-53.914-43.722-84.793-56.199 C321.426,6.222,288.617,0,255.823,0c-32.748,0-65.497,6.249-96.315,18.743c-30.814,12.491-59.695,31.244-84.607,56.159 c-24.915,24.912-43.668,53.793-56.158,84.607C6.25,190.325,0.001,223.073,0.001,255.823c0,32.794,6.222,65.602,18.701,96.484 c12.477,30.878,31.231,59.828,56.199,84.793c24.964,24.967,53.914,43.722,84.792,56.199c30.882,12.48,63.69,18.701,96.484,18.701 c32.748,0,65.497-6.249,96.314-18.743c30.814-12.49,59.695-31.242,84.607-56.158c24.917-24.913,43.67-53.794,56.16-84.608 c12.493-30.817,18.743-63.566,18.743-96.315C511.999,223.383,505.778,190.575,493.297,159.693z M461.611,339.661 c-10.821,26.683-27.019,51.648-48.659,73.291c-21.643,21.64-46.608,37.837-73.292,48.657 c-26.679,10.818-55.078,16.241-83.484,16.241c-28.477,0-56.947-5.405-83.688-16.213c-26.744-10.813-51.76-27.007-73.441-48.685 c-21.678-21.682-37.873-46.697-48.685-73.441C39.554,312.77,34.149,284.3,34.149,255.823c0-28.406,5.423-56.804,16.241-83.484 c10.821-26.683,27.018-51.648,48.659-73.291c21.643-21.64,46.608-37.837,73.291-48.659c26.679-10.818,55.078-16.241,83.484-16.241 c28.477,0,56.947,5.405,83.688,16.214c26.744,10.813,51.76,27.008,73.441,48.685c21.677,21.681,37.873,46.697,48.685,73.441 c10.808,26.741,16.214,55.211,16.214,83.688C477.852,284.583,472.429,312.981,461.611,339.661z"></path></g></g> <g><g><path d="M385.946,126.055c-6.524-6.525-17.102-6.525-23.626,0l-36.278,36.278c-7.82-5.861-16.298-10.691-25.249-14.389 c-14.036-5.803-29.225-8.832-44.792-8.83c-15.572-0.002-30.761,3.027-44.797,8.83c-14.037,5.799-26.917,14.372-37.901,25.36 c-11.376,11.375-19.956,24.598-25.656,38.689c-5.704,14.094-8.547,29.054-8.548,44.007c0,14.954,2.843,29.914,8.548,44.007 c3.693,9.131,8.603,17.892,14.691,26.027l-36.285,36.285c-6.524,6.524-6.524,17.102,0,23.627c6.525,6.524,17.102,6.524,23.627,0 l36.278-36.278c7.82,5.861,16.298,10.691,25.249,14.389c14.036,5.803,29.225,8.832,44.792,8.83 c15.572,0.002,30.761-3.027,44.797-8.83c14.037-5.799,26.917-14.372,37.901-25.359c11.376-11.375,19.955-24.599,25.656-38.689 c5.704-14.094,8.547-29.054,8.548-44.007c0-14.954-2.843-29.914-8.548-44.008c-3.693-9.131-8.603-17.892-14.691-26.027 l36.285-36.285C392.47,143.157,392.47,132.579,385.946,126.055z M178.621,287.472c-4.066-10.044-6.108-20.754-6.107-31.471 c0-10.717,2.042-21.428,6.107-31.472c4.07-10.047,10.146-19.431,18.31-27.599c7.908-7.906,17.06-13.98,27.036-18.106 c9.978-4.122,20.783-6.295,32.033-6.296c11.245,0.002,22.051,2.174,32.03,6.297c4.897,2.025,9.593,4.525,14.044,7.476 L186.305,302.069C183.229,297.418,180.669,292.53,178.621,287.472z M333.38,287.472c-4.07,10.047-10.146,19.431-18.31,27.599 c-7.908,7.906-17.06,13.98-27.036,18.106c-9.978,4.122-20.783,6.295-32.033,6.296c-11.245-0.002-22.05-2.174-32.03-6.297 c-4.897-2.025-9.593-4.526-14.044-7.476l115.769-115.769c3.076,4.651,5.636,9.539,7.684,14.597 c4.066,10.044,6.108,20.754,6.107,31.472C339.488,266.717,337.446,277.427,333.38,287.472z"></path></g></g></g>',3)])],8,J)):f("",!0),n.variant===2?(i(),s("svg",{key:1,id:"Capa_1",height:n.size,width:n.size,version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 226.512 226.512","xml:space":"preserve",fill:n.fill},[a[1]||(a[1]=t("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1)),a[2]||(a[2]=t("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),t("g",W,[t("g",null,[t("path",{style:M({fill:n.fill}),d:"M186.268,9.011H38.929c0,0-3.04,0-6.799,0c-3.753,0-8.577,4.536-10.764,10.128L3.009,65.958 c-2.187,5.591-3.47,14.974-2.856,20.951l12.287,119.774c0.609,5.978,5.983,10.818,11.988,10.818h177.672 c6.005,0,11.379-4.846,11.988-10.818l12.287-119.774c0.609-5.978-0.87-15.273-3.312-20.755l-21.414-47.238 C199.158,13.444,192.272,9.011,186.268,9.011z M148.162,148.615H78.362c-6.005,0-10.878-4.873-10.878-10.878v-24.476 c0-6.005,4.873-10.878,10.878-10.878h69.799c6.005,0,10.878,4.873,10.878,10.878v24.476 C159.04,143.742,154.166,148.615,148.162,148.615z M28.834,68.514l6.88-20.201c1.936-5.684,8.376-10.296,14.386-10.296h122.896 c6.005,0,12.863,4.444,15.311,9.932l9.361,20.935c2.448,5.488-0.435,9.932-6.445,9.932H36.209 C30.199,78.816,26.898,74.204,28.834,68.514z"},null,4)])])],8,Q)):f("",!0),n.label?(i(),s("p",X,_(n.label),1)):f("",!0)]))}}),ee=Object.assign(Z,{__name:"EmptyIcon"}),te={class:"text-sm"},oe={class:"font-mono text-2xl font-semibold"},ne={class:"text-sm mt-2.5 space-y-5"},ie={class:"flex items-center justify-between gap-2.5"},ae={class:"flex items-center gap-1"},se={class:"flex items-center gap-2.5"},le=y({__name:"card",props:{application:{}},emits:["remove"],setup(n,{emit:p}){const a=p,l=R(),{confirmAsync:g}=j(),h=async()=>{if(await g({title:"Delete application",description:"Are you sure you want to proceed? This cannot be undone.",acceptProps:{label:"Proceed"},rejectProps:{label:"Cancel",color:"neutral",variant:"soft"}})){try{const{message:m}=await $fetch(`/api/users/applicant/applications/${n.application.id}`,{method:"DELETE"});l.add({color:"success",title:"Success",description:m})}catch(m){l.add({color:"error",title:"Error",description:k(m).message})}a("remove","12323")}};return(e,m)=>{const x=H,u=D,o=b,v=P;return i(),w(v,null,{default:C(()=>[t("div",null,[t("div",null,[t("p",te,[V(_(e.application.course??"unknown course")+", ",1),t("b",null,_(e.application.degreeType??"unknown degree"),1)]),t("h4",oe,_(e.application.schoolSession?.name??"Unknown Session"),1),r(x,{label:e.application.status,color:e.application.status==="open"?"success":"error",variant:"subtle"},null,8,["label","color"])]),t("div",ne,[t("div",ie,[t("div",ae,[r(u,{name:"lucide:calendar"}),t("p",null," Started: "+_(c(B)(e.application.createdAt,"MMM DD, YYYY. hh:mm aa")),1)]),t("div",se,[e.application.status==="closed"?(i(),w(o,{key:0,to:`/application/portal/${e.application.id}`,size:"sm",label:"Review",icon:"lucide:view"},null,8,["to"])):f("",!0),e.application.status==="open"?(i(),w(o,{key:1,to:`/application/portal/${e.application.id}`,size:"sm",label:"Edit",icon:"lucide:file-pen"},null,8,["to"])):f("",!0),r(o,{size:"sm",label:"Delete",icon:"lucide:trash-2",color:"error",variant:"soft","loading-auto":"",onClick:h})])])])])]),_:1})}}}),ce=Object.assign(le,{__name:"ApplicationCard"}),re={class:"section-padding py-5"},pe={class:"mb-10 flex items-center gap-5 justify-between"},de={key:0,class:"flex-col-center"},me={key:1},ue={key:0,class:"p-10 flex-col-center gap-5"},fe={key:1,class:"grid gap-2.5 md:grid-cols-[repeat(auto-fit,minmax(28rem,1fr))]"},Me=y({__name:"index",async setup(n){let p,a;const{data:l,error:g,refresh:h}=([p,a]=F(()=>U("/api/users/applicant/applications","$HYeTK76L4v")),p=await p,a(),p),e=Y(!1),m=async()=>{await h(),e.value=!1},x=u=>{l.value&&(l.value=l.value.filter(o=>o.id!==u))};return(u,o)=>{const v=b,$=q,z=ee,S=ce,N=O,A=I;return i(),s("div",re,[t("header",pe,[o[4]||(o[4]=t("h1",{class:"text-2xl md:text-3xl lg:text-4xl font-bold"}," Your Applications ",-1)),r(v,{label:"New",icon:"lucide:plus",color:"neutral",variant:"soft",onClick:o[0]||(o[0]=d=>e.value=!0)})]),c(g)?(i(),s("div",de,[r($,{class:"w-fit max-w-96",message:("normalizeException"in u?u.normalizeException:c(k))(c(g)).message,"show-retry":"",onRetry:c(h)},null,8,["message","onRetry"])])):c(l)?(i(),s("div",me,[c(l).length?(i(),s("div",fe,[(i(!0),s(G,null,L(c(l),d=>(i(),w(S,{key:d.id,application:d,onRemove:x},null,8,["application"]))),128))])):(i(),s("div",ue,[r(z,{label:"No Applications"}),r(v,{label:"Start Application",onClick:o[1]||(o[1]=d=>e.value=!0)})]))])):f("",!0),r(A,{open:c(e),"onUpdate:open":o[3]||(o[3]=d=>T(e)?e.value=d:null),title:"New Application",description:"Fill out the details in the form below.",dismissible:!1},{body:C(()=>[r(N,{onDone:m,onCancel:o[2]||(o[2]=d=>e.value=!1)})]),_:1},8,["open"])])}}});export{Me as default};
