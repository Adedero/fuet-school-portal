import{_ as q}from"./BzV1xtw9.js";import{_ as R,a as U,b as C}from"./Dcr2-6YO.js";import{_ as F}from"./DzFNhZ3O.js";import{_ as B}from"./tGAlNobc.js";import{f as E,s as I,j as M,Q as S,v as T,c as x,a as o,k as w,G as P,i as e,b as s,w as r,g as j,o as m,C as y}from"#entry";import{n as J}from"./Zkazc4B7.js";import G from"./qqz4QTAD.js";import{b as O}from"./B1VPZvUp.js";import{save as Q}from"./D8vu_m8g.js";import{u as W}from"./R1hSFCT8.js";import{u as D}from"./VlZcijxv.js";import{V as H}from"./DMgUUZ4m.js";import"./CL73yllG.js";import"./Cy0O2o1w.js";import"./Jvy9P-lb.js";import"./85c996Ol.js";import"./BqO1plBG.js";import"./Da2gP4L0.js";import"./BPWMrxBI.js";import"./tG5iF90F.js";import"./BQPLBZHn.js";import"./DHy72UgP.js";import"./BNu-02Kz.js";import"./BQcKo3Wl.js";const L=["father","mother","brother","sister","son","daughter","foster-parent","step-son","step-daughter","uncle","aunt","cousin","nephew","neice","friend","guardian","ward","grandfather","grandmother","great grandfather","great grandmother","acquaintance","other"],X={class:"w-full"},Y={class:"lg:max-w-[70%] mx-auto"},Z={class:"my-5"},ee={key:0},te={class:"grid md:grid-cols-2 gap-2.5"},ae={key:0,class:"flex items-center gap-2.5 justify-between"},Ae=E({__name:"index",async setup(se){let f,g;const{applicationId:u=""}=W(),K=I(),{data:l,error:_,refresh:v}=([f,g]=M(()=>D(`/api/users/applicant/applications/${u}`,"$hM69xW_RkK")),f=await f,g(),f),N=S(()=>({firstParentName:l.value?.firstParentName??"",firstParentAddress:l.value?.firstParentAddress??"",firstParentStatus:l.value?.firstParentStatus??"living",secondParentName:l.value?.secondParentName??"",secondParentAddress:l.value?.secondParentAddress??"",secondParentStatus:l.value?.secondParentStatus??"living",nextOfKinName:l.value?.nextOfKinName??"",nextOfKinAddress:l.value?.nextOfKinAddress??"",nextOfKinPhoneNumber:l.value?.nextOfKinPhoneNumber??"",nextOfKinRelationship:l.value?.nextOfKinRelationship??""})),a=T({...N.value}),A=S(()=>JSON.stringify(a)!==JSON.stringify(N.value)),c=async p=>{await Q({applicationId:u,state:a,schema:O,toast:K,onSuccess:()=>{p()}})},h=[{label:"Save and Continue",onSelect:async()=>{await c(()=>{y(`/application/portal/${u}/academic-info`)})}},{label:"Save Only",onSelect:async()=>{await c(()=>{v()})}},{label:"Save and Exit",onSelect:async()=>{await c(()=>{y("/application/portal")})}}];return(p,t)=>{const k=q,d=C,i=U,V=F,z=B,$=R,b=j;return m(),x("div",X,[o("div",Y,[t[14]||(t[14]=o("header",null,[o("h1",{class:"text-xl font-bold"},"Family Information"),o("p",{class:"text-sm muted"}," Please provide accurate information about your parents and next of kin. This information is essential for your application process. ")],-1)),o("section",Z,[e(_)?(m(),x("div",ee,[s(k,{message:("normalizeException"in p?p.normalizeException:e(J))(e(_)).message,"show-retry":"",onRetry:e(v)},null,8,["message","onRetry"])])):e(l)?(m(),P($,{key:1,state:e(a),schema:e(O),disabled:e(l).status!=="pending"},{default:r(()=>[o("div",te,[t[11]||(t[11]=o("div",{class:"md:col-span-2"},[o("p",{class:"text-lg font-semibold"},"Parent 1")],-1)),s(i,{name:"firstParentName",label:"Full Name",required:""},{default:r(()=>[s(d,{modelValue:e(a).firstParentName,"onUpdate:modelValue":t[0]||(t[0]=n=>e(a).firstParentName=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"firstParentStatus",label:"Status",required:""},{default:r(()=>[s(V,{modelValue:e(a).firstParentStatus,"onUpdate:modelValue":t[1]||(t[1]=n=>e(a).firstParentStatus=n),items:["living","deceased"],class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"firstParentAddress",label:"Address",required:"",class:"md:col-span-2"},{default:r(()=>[s(d,{modelValue:e(a).firstParentAddress,"onUpdate:modelValue":t[2]||(t[2]=n=>e(a).firstParentAddress=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),t[12]||(t[12]=o("div",{class:"mt-5 md:col-span-2"},[o("p",{class:"text-lg font-semibold"},"Parent 2")],-1)),s(i,{name:"secondParentName",label:"Full Name",required:""},{default:r(()=>[s(d,{modelValue:e(a).secondParentName,"onUpdate:modelValue":t[3]||(t[3]=n=>e(a).secondParentName=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"secondParentStatus",label:"Status",required:""},{default:r(()=>[s(V,{modelValue:e(a).secondParentStatus,"onUpdate:modelValue":t[4]||(t[4]=n=>e(a).secondParentStatus=n),items:["living","deceased"],class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"secondParentAddress",label:"Address",required:"",class:"md:col-span-2"},{default:r(()=>[s(d,{modelValue:e(a).secondParentAddress,"onUpdate:modelValue":t[5]||(t[5]=n=>e(a).secondParentAddress=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),t[13]||(t[13]=o("div",{class:"mt-5 md:col-span-2"},[o("p",{class:"text-lg font-semibold"},"Next of Kin")],-1)),s(i,{name:"nextOfKinName",label:"Full Name",required:""},{default:r(()=>[s(d,{modelValue:e(a).nextOfKinName,"onUpdate:modelValue":t[6]||(t[6]=n=>e(a).nextOfKinName=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"nextOfKinRelationship",label:"Relationship",required:""},{default:r(()=>[s(z,{modelValue:e(a).nextOfKinRelationship,"onUpdate:modelValue":t[7]||(t[7]=n=>e(a).nextOfKinRelationship=n),items:e(L),class:"w-full",size:"lg"},null,8,["modelValue","items"])]),_:1}),s(i,{name:"nextOfKinPhoneNumber",label:"Phone Number",required:""},{default:r(()=>[s(d,{modelValue:e(a).nextOfKinPhoneNumber,"onUpdate:modelValue":t[8]||(t[8]=n=>e(a).nextOfKinPhoneNumber=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(i,{name:"nextOfKinAddress",label:"Address",required:""},{default:r(()=>[s(d,{modelValue:e(a).nextOfKinAddress,"onUpdate:modelValue":t[9]||(t[9]=n=>e(a).nextOfKinAddress=n),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1})])]),_:1},8,["state","schema","disabled"])):w("",!0)]),e(l)?(m(),x("footer",ae,[s(b,{label:"Previous",color:"neutral",variant:"soft",onClick:t[10]||(t[10]=n=>e(G)(e(A),`/application/portal/${e(u)}/personal-info`))}),e(l).status!=="pending"?(m(),P(b,{key:0,to:`/application/portal/${e(u)}/academic-info`,label:"Next"},null,8,["to"])):(m(),P(e(H),{key:1,items:h}))])):w("",!0)])])}}});export{Ae as default};
