import{_ as U}from"./Bk3w5A3a.js";import{_ as q,a as F,b as R}from"./BoK5ptM-.js";import{_ as C}from"./Bow2CaVd.js";import{f as h,Z as B,k as E,s as S,$ as I,c as x,a as o,l as O,z as P,m as e,b as s,w as i,g as J,o as m,a4 as w}from"#entry";import{n as M}from"./Zkazc4B7.js";import T from"./CT69H6iD.js";import{a as K,V as j}from"./DsLA_mRk.js";import{save as L}from"./Cfb_Mv44.js";import{u as W}from"./DHONqlJF.js";import{u as Z}from"./9wJ07xYL.js";import"./BIAE9Gu1.js";import"./Cm5taMpD.js";import"./jgG6l32W.js";import"./JFkHPvSu.js";import"./BzTl4f9z.js";import"./DPHI8LDS.js";import"./nRU2jip5.js";const D={class:"w-full"},G={class:"lg:max-w-[70%] mx-auto"},H={class:"my-5"},Q={key:0},X={class:"grid md:grid-cols-2 gap-2.5"},Y={key:0,class:"flex items-center gap-2.5 justify-between"},ve=h({__name:"index",async setup(ee){let f,N;const{applicationId:u=""}=W(),y=B(),{data:n,error:v,refresh:V}=([f,N]=E(()=>Z(`/api/users/applicant/applications/${u}`,"$hM69xW_RkK")),f=await f,N(),f),_=S(()=>({firstParentName:n.value?.firstParentName??"",firstParentAddress:n.value?.firstParentAddress??"",firstParentStatus:n.value?.firstParentStatus??"living",secondParentName:n.value?.secondParentName??"",secondParentAddress:n.value?.secondParentAddress??"",secondParentStatus:n.value?.secondParentStatus??"living",nextOfKinName:n.value?.nextOfKinName??"",nextOfKinAddress:n.value?.nextOfKinAddress??"",nextOfKinPhoneNumber:n.value?.nextOfKinPhoneNumber??"",nextOfKinRelationship:n.value?.nextOfKinRelationship??""})),a=I({..._.value}),A=S(()=>JSON.stringify(a)!==JSON.stringify(_.value)),c=async p=>{await L({applicationId:u,state:a,schema:K,toast:y,onSuccess:()=>{p()}})},z=[{label:"Save and Continue",onSelect:async()=>{await c(()=>{w(`/application/portal/${u}/academic-info`)})}},{label:"Save Only",onSelect:async()=>{await c(()=>{V()})}},{label:"Save and Exit",onSelect:async()=>{await c(()=>{w("/application/portal")})}}];return(p,t)=>{const k=U,d=R,r=F,b=C,$=q,g=J;return m(),x("div",D,[o("div",G,[t[14]||(t[14]=o("header",null,[o("h1",{class:"text-xl font-bold"},"Family Information"),o("p",{class:"text-sm muted"}," Lorem ipsum dolor sit amet consectetur, adipisicing elit. ")],-1)),o("section",H,[e(v)?(m(),x("div",Q,[s(k,{message:("normalizeException"in p?p.normalizeException:e(M))(e(v)).message,"show-retry":"",onRetry:e(V)},null,8,["message","onRetry"])])):e(n)?(m(),P($,{key:1,state:e(a),schema:e(K),disabled:e(n).status==="closed"||!!e(n).isSubmitted},{default:i(()=>[o("div",X,[t[11]||(t[11]=o("div",{class:"md:col-span-2"},[o("p",{class:"text-lg font-semibold"},"Parent 1")],-1)),s(r,{name:"firstParentName",label:"Full Name",required:""},{default:i(()=>[s(d,{modelValue:e(a).firstParentName,"onUpdate:modelValue":t[0]||(t[0]=l=>e(a).firstParentName=l),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(r,{name:"firstParentStatus",label:"Status",required:""},{default:i(()=>[s(b,{modelValue:e(a).firstParentStatus,"onUpdate:modelValue":t[1]||(t[1]=l=>e(a).firstParentStatus=l),items:["living","deceased"],class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(r,{name:"otherNames",label:"Address",required:"",class:"md:col-span-2"},{default:i(()=>[s(d,{modelValue:e(a).firstParentAddress,"onUpdate:modelValue":t[2]||(t[2]=l=>e(a).firstParentAddress=l),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),t[12]||(t[12]=o("div",{class:"mt-5 md:col-span-2"},[o("p",{class:"text-lg font-semibold"},"Parent 2")],-1)),s(r,{name:"secondParentName",label:"Full Name",required:""},{default:i(()=>[s(d,{modelValue:e(a).secondParentName,"onUpdate:modelValue":t[3]||(t[3]=l=>e(a).secondParentName=l),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(r,{name:"secondParentStatus",label:"Status",required:""},{default:i(()=>[s(b,{modelValue:e(a).secondParentStatus,"onUpdate:modelValue":t[4]||(t[4]=l=>e(a).secondParentStatus=l),items:["living","deceased"],class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(r,{name:"otherNames",label:"Address",required:"",class:"md:col-span-2"},{default:i(()=>[s(d,{modelValue:e(a).secondParentAddress,"onUpdate:modelValue":t[5]||(t[5]=l=>e(a).secondParentAddress=l),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),t[13]||(t[13]=o("div",{class:"mt-5 md:col-span-2"},[o("p",{class:"text-lg font-semibold"},"Next of Kin")],-1)),s(r,{name:"nextOfKinName",label:"Full Name",required:""},{default:i(()=>[s(d,{modelValue:e(a).nextOfKinName,"onUpdate:modelValue":t[6]||(t[6]=l=>e(a).nextOfKinName=l),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(r,{name:"nextOfKinRelationship",label:"Relationship",required:""},{default:i(()=>[s(d,{modelValue:e(a).nextOfKinRelationship,"onUpdate:modelValue":t[7]||(t[7]=l=>e(a).nextOfKinRelationship=l),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(r,{name:"nextOfKinPhoneNumber",label:"Phone Number",required:""},{default:i(()=>[s(d,{modelValue:e(a).nextOfKinPhoneNumber,"onUpdate:modelValue":t[8]||(t[8]=l=>e(a).nextOfKinPhoneNumber=l),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1}),s(r,{name:"nextOfKinAddress",label:"Address",required:""},{default:i(()=>[s(d,{modelValue:e(a).nextOfKinAddress,"onUpdate:modelValue":t[9]||(t[9]=l=>e(a).nextOfKinAddress=l),class:"w-full",size:"lg"},null,8,["modelValue"])]),_:1})])]),_:1},8,["state","schema","disabled"])):O("",!0)]),e(n)?(m(),x("footer",Y,[s(g,{label:"Previous",color:"neutral",variant:"soft",onClick:t[10]||(t[10]=l=>e(T)(e(A),`/application/portal/${e(u)}/personal-info`))}),e(n).status==="closed"||e(n).isSubmitted?(m(),P(g,{key:0,to:`/application/portal/${e(u)}/academic-info`,label:"Next"},null,8,["to"])):(m(),P(e(j),{key:1,items:z}))])):O("",!0)])])}}});export{ve as default};
