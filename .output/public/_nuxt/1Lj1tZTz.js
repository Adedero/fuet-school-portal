import{_ as V}from"./Br_2l1z2.js";import{_ as S}from"./CdUQPPYw.js";import{_ as B,a as F}from"./CfG1-w7I.js";import{f as z,B as u,C as I,c as p,a as s,b as t,t as P,k as o,j as R,w as l,E as j,d as _,D as q,e as A,x as D,o as d,l as G,g as M,G as T}from"#entry";import{_ as U}from"./RyBLt_tc.js";import{_ as L}from"./BrTgbP-L.js";import{z as f}from"./ChM03Ocf.js";import{n as H}from"./Zkazc4B7.js";import"./D1lORq9n.js";import"./BZPIhiCP.js";const J={class:"text-sm text-muted"},K={class:"my-5"},O={key:0,class:"mb-3"},Q={class:"text-sm text-muted"},W={class:"space-y-3"},re=z({__name:"index",setup(X){const m=G(),n=u(!1),x=f.object({email:f.email("Email is invalid")}),a=I({email:""});function v(){a.email=""}const i=u(null);async function y(c){i.value=null,await T.requestPasswordReset({email:c.data.email,redirectTo:"/reset-password"},{onError(e){i.value=H(e.error)},onSuccess(){v(),n.value=!0}})}return(c,e)=>{const b=V,g=S,N=F,w=M,k=B,h=U,C=A,$=L,E=D;return d(),p("div",null,[e[5]||(e[5]=s("h1",{class:"text-lg font-semibold"},"Forgot Password",-1)),s("div",J," If you've forgotten your password, we can help you recover your "+P(o(m).public.appName)+" account. ",1),s("div",K,[o(i)?(d(),p("div",O,[t(b,{message:o(i).message},null,8,["message"])])):R("",!0),t(k,{schema:o(x),state:o(a),class:"space-y-4",onSubmit:j(y,["prevent"])},{default:l(()=>[t(N,{label:"Email",name:"email"},{default:l(()=>[t(g,{modelValue:o(a).email,"onUpdate:modelValue":e[0]||(e[0]=r=>o(a).email=r),size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),t(w,{type:"submit",class:"mt-2 w-full flex-center",size:"lg",icon:"i-lucide:check-circle","loading-auto":"",label:"Submit"})]),_:1},8,["schema","state"])]),s("div",null,[t(h,{class:"my-5"}),s("p",Q,[e[3]||(e[3]=_(" Go back to ",-1)),t(C,{class:"link",to:"/login"},{default:l(()=>[...e[2]||(e[2]=[_(" log in. ",-1)])]),_:1})])]),t(E,{open:o(n),"onUpdate:open":e[1]||(e[1]=r=>q(n)?n.value=r:null),title:"Password reset request"},{body:l(()=>[s("div",W,[e[4]||(e[4]=s("p",null," Click the link that has been sent to your email address to complete the password recovery process. ",-1)),t($,{variant:"subtle",color:"info",icon:"i-lucide:triangle-alert",ui:{description:"text-[0.8rem]"},description:`If you do not see an email, you may not have an ${o(m).public.appName} account.`},null,8,["description"])])]),_:1},8,["open"])])}}});export{re as default};
