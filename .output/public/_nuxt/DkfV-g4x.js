import{_ as E}from"./BzV1xtw9.js";import{_ as S,a as z,b as B}from"./Dcr2-6YO.js";import{f as F,x as u,v as I,c as p,a as s,b as t,t as P,i as o,k as R,w as l,y as q,d as _,H as A,e as M,m as T,o as d,B as U,g as j,z as D}from"#entry";import{_ as G}from"./COu7Z6cq.js";import{_ as H}from"./CL73yllG.js";import{z as f}from"./Jvy9P-lb.js";import{n as L}from"./Zkazc4B7.js";import"./Cy0O2o1w.js";const J={class:"text-sm text-muted"},K={class:"my-5"},O={key:0,class:"mb-3"},Q={class:"text-sm text-muted"},W={class:"space-y-3"},ie=F({__name:"index",setup(X){const m=U(),n=u(!1),x=f.object({email:f.email("Email is invalid")}),a=I({email:""});function v(){a.email=""}const i=u(null);async function y(c){i.value=null,await D.requestPasswordReset({email:c.data.email,redirectTo:"/reset-password"},{onError(e){i.value=L(e.error)},onSuccess(){v(),n.value=!0}})}return(c,e)=>{const b=E,g=B,N=z,w=j,k=S,h=G,$=M,C=H,V=T;return d(),p("div",null,[e[5]||(e[5]=s("h1",{class:"text-lg font-semibold"},"Forgot Password",-1)),s("div",J," If you've forgotten your password, we can help you recover your "+P(o(m).public.appName)+" account. ",1),s("div",K,[o(i)?(d(),p("div",O,[t(b,{message:o(i).message},null,8,["message"])])):R("",!0),t(k,{schema:o(x),state:o(a),class:"space-y-4",onSubmit:q(y,["prevent"])},{default:l(()=>[t(N,{label:"Email",name:"email"},{default:l(()=>[t(g,{modelValue:o(a).email,"onUpdate:modelValue":e[0]||(e[0]=r=>o(a).email=r),size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),t(w,{type:"submit",class:"mt-2 w-full flex-center",size:"lg",icon:"i-lucide:check-circle","loading-auto":"",label:"Submit"})]),_:1},8,["schema","state"])]),s("div",null,[t(h,{class:"my-5"}),s("p",Q,[e[3]||(e[3]=_(" Go back to ",-1)),t($,{class:"link",to:"/login"},{default:l(()=>[...e[2]||(e[2]=[_(" log in. ",-1)])]),_:1})])]),t(V,{open:o(n),"onUpdate:open":e[1]||(e[1]=r=>A(n)?n.value=r:null),title:"Password reset request"},{body:l(()=>[s("div",W,[e[4]||(e[4]=s("p",null," Click the link that has been sent to your email address to complete the password recovery process. ",-1)),t(C,{variant:"subtle",color:"info",icon:"i-lucide:triangle-alert",ui:{description:"text-[0.8rem]"},description:`If you do not see an email, you may not have an ${o(m).public.appName} account.`},null,8,["description"])])]),_:1},8,["open"])])}}});export{ie as default};
