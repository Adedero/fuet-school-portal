import{_ as E}from"./J5OPYbuo.js";import{z as u,_ as S,a as F,b as z}from"./BIR4NytT.js";import{f as B,$ as p,Z as I,c as _,a as s,b as t,t as P,k as o,j as R,w as i,I as j,d,a7 as q,e as A,m as M,o as f,a2 as T,g as U,a0 as D}from"#entry";import{_ as G}from"./CMD5SL7R.js";import{_ as L}from"./Bmdg00VV.js";import{n as Z}from"./Zkazc4B7.js";import"./BAo_7Th6.js";const H={class:"text-sm text-muted"},J={class:"my-5"},K={key:0,class:"mb-3"},O={class:"text-sm text-muted"},Q={class:"space-y-3"},ne=B({__name:"index",setup(W){const m=T(),a=p(!1),x=u.object({email:u.email("Email is invalid")}),n=I({email:""});function v(){n.email=""}const l=p(null);async function y(c){l.value=null,await D.requestPasswordReset({email:c.data.email,redirectTo:"/reset-password"},{onError(e){l.value=Z(e.error)},onSuccess(){v(),a.value=!0}})}return(c,e)=>{const b=E,g=z,N=F,w=U,k=S,$=G,h=A,C=L,V=M;return f(),_("div",null,[e[5]||(e[5]=s("h1",{class:"text-lg font-semibold"},"Forgot Password",-1)),s("div",H," If you've forgotten your password, we can help you recover your "+P(o(m).public.appName)+" account. ",1),s("div",J,[o(l)?(f(),_("div",K,[t(b,{message:o(l).message},null,8,["message"])])):R("",!0),t(k,{schema:o(x),state:o(n),class:"space-y-4",onSubmit:j(y,["prevent"])},{default:i(()=>[t(N,{label:"Email",name:"email"},{default:i(()=>[t(g,{modelValue:o(n).email,"onUpdate:modelValue":e[0]||(e[0]=r=>o(n).email=r),size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),t(w,{type:"submit",class:"mt-2 w-full flex-center",size:"lg",icon:"i-lucide:check-circle","loading-auto":"",label:"Submit"})]),_:1},8,["schema","state"])]),s("div",null,[t($,{class:"my-5"}),s("p",O,[e[3]||(e[3]=d(" Go back to ",-1)),t(h,{class:"link",to:"/login"},{default:i(()=>[...e[2]||(e[2]=[d(" log in. ",-1)])]),_:1})])]),t(V,{open:o(a),"onUpdate:open":e[1]||(e[1]=r=>q(a)?a.value=r:null),title:"Password reset request"},{body:i(()=>[s("div",Q,[e[4]||(e[4]=s("p",null," Click the link that has been sent to your email address to complete the password recovery process. ",-1)),t(C,{variant:"subtle",color:"info",icon:"i-lucide:triangle-alert",ui:{description:"text-[0.8rem]"},description:`If you do not see an email, you may not have an ${o(m).public.appName} account.`},null,8,["description"])])]),_:1},8,["open"])])}}});export{ne as default};
