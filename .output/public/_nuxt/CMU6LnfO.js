import{f as v,c as d,o as l,a as t,b as r,t as n,d as i,Q as U,F as z,r as D,G as N,w,h as k,i as o,I as M,k as x,s as X,x as E,N as I,g as j,ay as q,j as W,az as Z,H as V,m as tt,l as st,C as et}from"#entry";import{_ as ot}from"./CL73yllG.js";import{_ as nt}from"./mK3mpF8C.js";import{_ as C}from"./BzV1xtw9.js";import{_ as at}from"./CuPKMK4g.js";import{_ as R}from"./COu7Z6cq.js";import{_ as it}from"./CTE8Zf5N.js";import{n as O}from"./Zkazc4B7.js";import{u as T}from"./VlZcijxv.js";import{_ as lt}from"./BKfmL_0Z.js";import{_ as rt}from"./BvPKX5Xa.js";import{a as B}from"./B1VPZvUp.js";import{u as dt}from"./R1hSFCT8.js";import"./BNu-02Kz.js";import"./Da2gP4L0.js";import"./85c996Ol.js";import"./BPWMrxBI.js";import"./BQcKo3Wl.js";import"./tG5iF90F.js";import"./Df5ZXFJD.js";import"./BqO1plBG.js";import"./BQPLBZHn.js";import"./Jvy9P-lb.js";const ct={class:"text-center"},pt={class:"text-xl font-bold flex items-end justify-center gap-2.5"},ut={class:"mt-2"},mt=v({__name:"page-header",props:{data:{}},setup(c){return(e,s)=>{const a=at;return l(),d("header",ct,[t("h1",pt,[r(a,{size:"24"}),t("span",null," FUET UNDEGRADUATE APPLICATION ("+n(e.data.schoolSession?.name)+") ",1)]),s[1]||(s[1]=t("p",null,"Federal University of Environment and Technology",-1)),t("p",ut,[s[0]||(s[0]=i(" APPLICATION NUMBER: ",-1)),t("b",null,n(e.data.applicationNumber),1)])])}}}),_t=Object.assign(mt,{__name:"ApplicationViewerPageHeader"}),ft={class:"mt-10 space-y-10"},bt={class:"justify-end flex"},gt={class:"bg-muted w-44 h-44"},$t=["src"],vt={key:1,class:"fluid flex-center"},yt={class:"space-y-16"},ht={class:"mt-5 w-full"},xt={class:"grid grid-cols-2 gap-1.5"},At={class:"uppercase"},Nt={class:"uppercase"},wt={class:"uppercase"},St={class:"uppercase"},It={class:"uppercase"},kt={class:"uppercase"},Ot={class:"col-span-2 print:col-span-1"},Pt={class:"uppercase"},Et={class:"uppercase"},Ct={class:"grid grid-cols-2 gap-1.5 w-full"},Rt={class:"uppercase"},Tt={class:"uppercase"},Ft={class:"uppercase"},Vt=v({__name:"section-1",props:{data:{}},setup(c){return(e,s)=>{const a=R;return l(),d("div",ft,[s[15]||(s[15]=t("h3",{class:"text-xl font-bold"},"Section I: Personal Information",-1)),t("div",bt,[t("div",gt,[e.data.passportUrl?(l(),d("img",{key:0,src:e.data.passportUrl,class:"w-full h-full object-cover"},null,8,$t)):(l(),d("div",vt,[...s[0]||(s[0]=[t("p",{class:"text-sm text-muted font-semibold"},"No passport",-1)])]))])]),t("section",yt,[t("div",null,[s[9]||(s[9]=t("h3",{class:"text-muted font-semibold"},"BIO DATA",-1)),r(a,{class:"mt-2 mb-5"}),t("div",null,[t("div",ht,[t("ul",xt,[t("li",null,[s[1]||(s[1]=i(" First Name: ",-1)),t("b",At,n(e.data.firstName),1)]),t("li",null,[s[2]||(s[2]=i(" Middle Name: ",-1)),t("b",Nt,n(e.data.middleName),1)]),t("li",null,[s[3]||(s[3]=i(" Other Names: ",-1)),t("b",wt,n(e.data.otherNames),1)]),t("li",null,[s[4]||(s[4]=i(" Last Name: ",-1)),t("b",St,n(e.data.lastName),1)]),t("li",null,[s[5]||(s[5]=i(" D.O.B: ",-1)),t("b",It,n(e.data.birthDay)+" "+n(e.data.birthMonth)+", "+n(e.data.birthYear),1)]),t("li",null,[s[6]||(s[6]=i(" Gender: ",-1)),t("b",kt,n(e.data.lastName),1)]),t("li",Ot,[s[7]||(s[7]=i(" Email: ",-1)),t("b",Pt,n(e.data.user.email),1)]),t("li",null,[s[8]||(s[8]=i(" Phone: ",-1)),t("b",Et,n(e.data.phoneNumber),1)])])])])]),t("div",null,[s[14]||(s[14]=t("h3",{class:"text-muted font-semibold"},"IDENTIFICATION",-1)),r(a,{class:"mt-2 mb-5"}),t("ul",Ct,[t("li",null,[s[10]||(s[10]=i(" Nationality: ",-1)),t("b",Rt,n(e.data.nationality),1)]),t("li",null,[s[11]||(s[11]=i(" State of Origin: ",-1)),t("b",Tt,n(e.data.stateOfOrigin),1)]),t("li",null,[s[12]||(s[12]=i(" L.G.A: ",-1)),t("b",Ft,n(e.data.lga),1)]),t("li",null,[s[13]||(s[13]=i(" NIN/ID number: ",-1)),t("b",null,n(e.data.nin),1)])])])])])}}}),Ut=Object.assign(Vt,{__name:"ApplicationViewerSection1"}),zt={class:"print:mt-10 space-y-10"},Dt={class:"space-y-16"},Mt={class:"mt-5 w-full"},jt={class:"grid grid-cols-2 gap-1.5"},Bt={class:"uppercase"},Lt={class:"uppercase"},Yt={class:"uppercase"},Gt={class:"mt-5 w-full"},Kt={class:"grid grid-cols-2 gap-1.5"},Ht={class:"uppercase"},Jt={class:"uppercase"},Qt={class:"uppercase"},Xt={class:"mt-5 w-full"},qt={class:"grid grid-cols-2 gap-1.5"},Wt={class:"uppercase"},Zt={class:"uppercase"},ts={class:"uppercase"},ss={class:"uppercase"},es=v({__name:"section-2",props:{data:{}},setup(c){return(e,s)=>{const a=R;return l(),d("div",zt,[s[13]||(s[13]=t("h3",{class:"text-xl font-bold"},"Section II: Family Information",-1)),t("section",Dt,[t("div",null,[s[3]||(s[3]=t("h3",{class:"text-muted font-semibold"},"PARENT 1 DATA",-1)),r(a,{class:"mt-2 mb-5"}),t("div",null,[t("div",Mt,[t("ul",jt,[t("li",null,[s[0]||(s[0]=i(" Full Name: ",-1)),t("b",Bt,n(e.data.firstParentName),1)]),t("li",null,[s[1]||(s[1]=i(" Address: ",-1)),t("b",Lt,n(e.data.firstParentAddress),1)]),t("li",null,[s[2]||(s[2]=i(" Status: ",-1)),t("b",Yt,n(e.data.firstParentStatus),1)])])])])]),t("div",null,[s[7]||(s[7]=t("h3",{class:"text-muted font-semibold"},"PARENT 2 DATA",-1)),r(a,{class:"mt-2 mb-5"}),t("div",null,[t("div",Gt,[t("ul",Kt,[t("li",null,[s[4]||(s[4]=i(" Full Name: ",-1)),t("b",Ht,n(e.data.secondParentName),1)]),t("li",null,[s[5]||(s[5]=i(" Address: ",-1)),t("b",Jt,n(e.data.secondParentAddress),1)]),t("li",null,[s[6]||(s[6]=i(" Status: ",-1)),t("b",Qt,n(e.data.secondParentStatus),1)])])])])]),t("div",null,[s[12]||(s[12]=t("h3",{class:"text-muted font-semibold"},"NEXT OF KIN",-1)),r(a,{class:"mt-2 mb-5"}),t("div",null,[t("div",Xt,[t("ul",qt,[t("li",null,[s[8]||(s[8]=i(" Full Name: ",-1)),t("b",Wt,n(e.data.nextOfKinName),1)]),t("li",null,[s[9]||(s[9]=i(" Address: ",-1)),t("b",Zt,n(e.data.nextOfKinAddress),1)]),t("li",null,[s[10]||(s[10]=i(" Phone Number: ",-1)),t("b",ts,n(e.data.nextOfKinPhoneNumber),1)]),t("li",null,[s[11]||(s[11]=i(" Relationship: ",-1)),t("b",ss,n(e.data.nextOfKinRelationship),1)])])])])])])])}}}),os=Object.assign(es,{__name:"ApplicationViewerSection2"}),ns={class:"print:mt-10 space-y-10"},as={class:"space-y-16"},is={class:"mt-5 w-full"},ls={class:"grid gap-1.5"},rs={class:"uppercase"},ds={class:"uppercase"},cs={class:"uppercase"},ps={class:"mt-5 w-full"},us={class:"grid grid-cols-2 gap-1.5"},ms={class:"col-span-2"},_s={class:"uppercase"},fs={class:"col-span-2"},bs={class:"uppercase"},gs={class:"uppercase"},$s={class:"uppercase"},vs=v({__name:"section-3",props:{data:{}},setup(c){return(e,s)=>{const a=R;return l(),d("div",ns,[s[9]||(s[9]=t("h3",{class:"text-xl font-bold"},"Section III: Academic Information",-1)),t("section",as,[t("div",null,[s[3]||(s[3]=t("h3",{class:"text-muted font-semibold"},"COURSE CHOICE",-1)),r(a,{class:"mt-2 mb-5"}),t("div",null,[t("div",is,[t("ul",ls,[t("li",null,[s[0]||(s[0]=i(" Chosen Course: ",-1)),t("b",rs,n(e.data.course),1)]),t("li",null,[s[1]||(s[1]=i(" Degree: ",-1)),t("b",ds,n(e.data.degreeType),1)]),t("li",null,[s[2]||(s[2]=i(" JAMB Registration Number: ",-1)),t("b",cs,n(e.data.jambRegNumber),1)])])])])]),t("div",null,[s[8]||(s[8]=t("h3",{class:"text-muted font-semibold"},"SECONDARY INSTITUTION",-1)),r(a,{class:"mt-2 mb-5"}),t("div",null,[t("div",ps,[t("ul",us,[t("li",ms,[s[4]||(s[4]=i(" Name of Secondary School: ",-1)),t("b",_s,n(e.data.secondarySchoolName),1)]),t("li",fs,[s[5]||(s[5]=i(" Address of Secondary School: ",-1)),t("b",bs,n(e.data.secondarySchoolAddress),1)]),t("li",null,[s[6]||(s[6]=i(" Month Graduated: ",-1)),t("b",gs,n(e.data.secondarySchoolGraduationMonth),1)]),t("li",null,[s[7]||(s[7]=i(" Year Graduated: ",-1)),t("b",$s,n(e.data.secondarySchoolGraduationYear),1)])])])])])])])}}}),ys=Object.assign(vs,{__name:"ApplicationViewerSection3"}),hs={class:"print:mt-10 space-y-10"},xs={class:"space-y-16"},As={class:"grid gap-5"},Ns={class:"flex items-center gap-2"},ws={class:"text-sm font-semibold"},Ss={class:"text-xs text-muted"},Is=v({__name:"section-4",props:{data:{}},setup(c){const e=U(()=>[{label:"Passport Photograph",value:c.data.passportUrl??""},{label:"Birth Certificate",value:c.data.birthCertificateUrl??""},{label:"State of Origin Certificate",value:c.data.stateOfOriginUrl??""},{label:"O Level Result",value:c.data.oLevelResultUrl??""},{label:"Post UTME Registration Slip",value:c.data.postUTMESlipUrl??""},{label:"Admission Form Payment Receipt",value:c.data.admissionFormPaymentReceiptUrl??""}]);return(s,a)=>{const m=k,b=it;return l(),d("div",hs,[a[0]||(a[0]=t("h3",{class:"text-xl font-bold"},"Section IV: Documents Submitted",-1)),t("section",xs,[t("div",As,[(l(!0),d(z,null,D(o(e),p=>(l(),N(b,{key:p.label,class:"rounded-none"},{default:w(()=>[t("div",null,[t("div",Ns,[p.value?(l(),N(m,{key:0,name:"lucide:circle-check",class:"text-success",size:"1.5rem"})):(l(),N(m,{key:1,name:"lucide:circle-x",class:"text-error",size:"1.5rem"})),t("div",null,[t("p",ws,n(p.label),1),t("p",Ss,n(p.value?"submitted":"not submitted"),1)])])])]),_:2},1024))),128))])])])}}}),ks=Object.assign(Is,{__name:"ApplicationViewerSection4"}),Os={class:"w-full overflow-x-auto"},Ps={key:0,class:"flex-col-center gap-1"},Es={key:1},Cs={key:2,class:"application-document space-y-5 print:space-y-0"},Rs={class:"application-document-page"},Ts={class:"application-document-page"},Fs={class:"application-document-page"},Vs={class:"application-document-page"},Us=v({__name:"index",props:{applicationId:{}},setup(c,{expose:e}){const{data:s,error:a,execute:m,pending:b}=T(`/api/users/applicant/applications/${c.applicationId}`,"$N_vzw1a0Pg");return e({print:()=>{window.print()}}),M(async()=>{await m()}),(g,_)=>{const f=k,y=C,A=_t,h=Ut,u=os,S=ys,P=ks;return l(),d("div",Os,[o(b)?(l(),d("div",Ps,[r(f,{name:"lucide:loader",size:"2rem",class:"text-muted animate animate-spin"}),_[0]||(_[0]=t("p",{class:"text-sm text-muted font-semibold"},"Loading",-1))])):o(a)?(l(),d("div",Es,[r(y,{message:("normalizeException"in g?g.normalizeException:o(O))(o(a)).message,"show-retry":"",onRetry:o(m)},null,8,["message","onRetry"])])):o(s)?(l(),d("div",Cs,[t("div",Rs,[r(A,{data:o(s)},null,8,["data"]),r(h,{data:o(s)},null,8,["data"])]),t("div",Ts,[r(A,{class:"hidden print:block",data:o(s)},null,8,["data"]),r(u,{data:o(s)},null,8,["data"])]),t("div",Fs,[r(A,{class:"hidden print:block",data:o(s)},null,8,["data"]),r(S,{data:o(s)},null,8,["data"])]),t("div",Vs,[r(A,{class:"hidden print:block",data:o(s)},null,8,["data"]),r(P,{data:o(s)},null,8,["data"])])])):x("",!0)])}}}),zs=Object.assign(Us,{__name:"ApplicationViewer"}),Ds=v({__name:"submitter",props:{application:{},condition:{type:Boolean,default:!0},conditionMessage:{default:""},applicationId:{}},emits:["submit"],setup(c,{emit:e}){const s=e,a=X(),{confirmAsync:m}=q(),b=async()=>await m({title:"Submit Application",description:"Are you sure you want to submit this application? Once submitted, you cannot edit any part of the application"}),p=E(!1);async function g(){if(!c.condition){a.add({color:"error",title:"Error",description:c.conditionMessage});return}const _=B.safeParse(c.application);if(!_.success){a.add({color:"error",title:"Error",description:_.error.issues[0]?.message??"Some fields are missing. Check your applictaion and try again."});return}if(await b()){p.value=!0;try{const f=await $fetch(`/api/users/applicant/applications/${c.applicationId}/submit`,{method:"POST"});s("submit"),a.add({color:"success",title:"Success",description:f.message})}catch(f){a.add({color:"error",title:"Error",description:O(f).message})}finally{p.value=!1}}}return(_,f)=>{const y=j;return l(),d("div",{onClick:g},[I(_.$slots,"default",{loading:o(p)},()=>[r(y,{label:"Submit",loading:o(p)},null,8,["loading"])])])}}}),Ms=Object.assign(Ds,{__name:"ApplicationSubmitter"}),js={key:0},Bs={class:"flex-center"},Ls={key:1},Ys={key:2},Gs=v({__name:"settings",setup(c){const{data:e,error:s,pending:a,refresh:m,execute:b}=T("/api/general/settings",{},"$BCIsi-YFc7");return M(async()=>{await b()}),(p,g)=>{const _=k,f=C;return l(),d("div",null,[o(a)?(l(),d("div",js,[I(p.$slots,"loading",{loading:o(a)},()=>[t("div",Bs,[r(_,{name:"lucide:loader",size:"2rem",class:"text-muted animate animate-spin"})])])])):o(s)?(l(),d("div",Ls,[I(p.$slots,"error",{error:("normalizeException"in p?p.normalizeException:o(O))(o(s)),refresh:o(m)},()=>[r(f,{message:"Failed to get settings","show-retry":"",onRetry:o(m)},null,8,["onRetry"])])])):o(e)?(l(),d("div",Ys,[I(p.$slots,"default",{data:o(e)})])):x("",!0)])}}}),Ks=Object.assign(Gs,{__name:"AppSettings"}),Hs={class:"w-full"},Js={class:"lg:max-w-[80%] mx-auto"},Qs={class:"mt-1 flex items-center gap-2.5 justify-between"},Xs={class:"text-sm"},qs={key:0},Ws={key:0,class:"mt-2"},Zs={class:"p-5 space-y-5 max-w-80 max-h-[26rem] overflow-y-auto"},te={class:"grid gap-2 list-inside list-disc"},se={class:"my-5"},ee={key:0},oe={key:1},ne={class:"flex items-start gap-2"},ae={key:0,class:"mt-5 flex items-center gap-2.5 justify-between"},ie={class:"flex items-center justify-end gap-2.5"},le={class:"flex-col-center gap-2.5"},Ee=v({__name:"index",async setup(c){let e,s;const{applicationId:a=""}=dt(),{data:m,error:b,refresh:p}=([e,s]=W(()=>T(`/api/users/applicant/applications/${a}`,"$NMKLN2r7Ah")),e=await e,s(),e),g=U(()=>B.safeParse(m.value??{}).error?.issues??[]),_=E(!1),f=Z("viewer"),y=E(!1),A=()=>{y.value=!0,p()};return(h,u)=>{const S=j,P=ot,L=nt,Y=C,G=zs,F=lt,K=rt,H=Ms,J=k,Q=tt;return l(),d("div",Hs,[t("div",Js,[t("header",null,[u[4]||(u[4]=t("h1",{class:"text-xl font-bold"},"Review Application",-1)),t("div",Qs,[t("div",null,[r(o(Ks),null,{default:w(({data:$})=>[t("p",Xs,[u[3]||(u[3]=i(" Application deadline: ",-1)),$.applicationsClosedAt?(l(),d("b",qs,n(o(st)($.applicationsClosedAt,"MMMM DD, YYYY")),1)):x("",!0)])]),_:1})]),t("div",null,[r(S,{label:"Print",icon:"lucide:printer",color:"neutral",variant:"outline",size:"sm",onClick:o(f)?.print},null,8,["onClick"])])]),o(g).length?(l(),d("div",Ws,[r(L,null,{content:w(()=>[t("div",Zs,[t("ul",te,[(l(!0),d(z,null,D(o(g),$=>(l(),d("li",{key:`${$.code}-${$.path}`,class:"border-b border-b-default py-1.5"},n($.message),1))),128))])])]),default:w(()=>[r(P,{title:`Found ${o(g).length} ${o(g).length===1?"error":"errors"}`,color:"error",variant:"subtle",orientation:"horizontal",actions:[{label:"View",color:"error"}]},null,8,["title"])]),_:1})])):x("",!0)]),t("section",se,[o(b)?(l(),d("div",ee,[r(Y,{message:("normalizeException"in h?h.normalizeException:o(O))(o(b)).message,"show-retry":"",onRetry:o(p)},null,8,["message","onRetry"])])):o(m)?(l(),d("div",oe,[r(G,{ref_key:"viewer",ref:f,"application-id":o(a)},null,8,["application-id"])])):x("",!0)]),t("div",null,[t("div",ne,[o(m)?.status==="pending"?(l(),N(F,{key:0,modelValue:o(_),"onUpdate:modelValue":u[0]||(u[0]=$=>V(_)?_.value=$:null)},null,8,["modelValue"])):(l(),N(F,{key:1,"default-value":!0,disabled:""})),u[5]||(u[5]=t("p",{class:"text-sm text-muted"}," I hereby consent that the information provided in this application by me is, to the best of my knowledge, correct and free of errors. I also consent to my application being withdrawn if it is discovered that I have willfully provided wrong or misleading information. ",-1))])]),o(m)?(l(),d("footer",ae,[r(S,{to:`/application/portal/${o(a)}/documents`,label:"Previous",color:"neutral",variant:"soft"},null,8,["to"]),t("div",ie,[r(K,{"application-id":o(a),onRemove:u[1]||(u[1]=()=>("navigateTo"in h?h.navigateTo:o(et))("/application/portal"))},null,8,["application-id"]),o(m).status==="pending"?(l(),N(H,{key:0,application:o(m),"application-id":o(a),condition:o(_),"condition-message":`Please\r
          accept the terms before submitting`,onSubmit:A},null,8,["application","application-id","condition"])):x("",!0),r(Q,{open:o(y),"onUpdate:open":u[2]||(u[2]=$=>V(y)?y.value=$:null),title:"Application Submitted!"},{body:w(()=>[t("div",le,[r(J,{name:"lucide:circle-check",size:"5rem",class:"text-emerald-500"}),u[6]||(u[6]=t("p",{class:"font-semibold text-emerald-500 text-center text-lg"}," Success ",-1)),u[7]||(u[7]=t("p",{class:"text-sm text-muted text-center"}," Your application has been submitted successfully ",-1))])]),_:1},8,["open"])])])):x("",!0)])])}}});export{Ee as default};
