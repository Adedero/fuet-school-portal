import{b3 as E,a0 as V,aZ as N,iq as $,ir as C,is as B,aL as I,aa as O,s as J,it as L,f as T,iu as R,iv as z,B as A,b5 as D}from"#entry";function q(e={}){const{inheritAttrs:t=!0}=e,r=E(),v=T({setup(f,{slots:d}){return()=>{r.value=d.default}}}),l=T({inheritAttrs:t,props:e.props,setup(f,{attrs:d,slots:o}){return()=>{var n;r.value;const a=(n=r.value)==null?void 0:n.call(r,{...e.props==null?F(d):f,$slots:o});return t&&a?.length===1?a[0]:a}}});return R({define:v,reuse:l},[v,l])}function F(e){const t={};for(const r in e)t[z(r)]=e[r];return t}function K(e,t,r){var v;const{immediate:l=!0,delay:f=0,onError:d=(v=globalThis.reportError)!=null?v:C,onSuccess:o=C,resetOnExecute:n=!0,shallow:a=!0,throwError:m}={},h=a?E(t):V(t),g=E(!1),u=E(!1),w=E(void 0);async function p(i=0,...s){n&&(h.value=N(t)),w.value=void 0,g.value=!1,u.value=!0,i>0&&await $(i);const b=typeof e=="function"?e(...s):e;try{const c=await b;h.value=c,g.value=!0,o(c)}catch(c){if(w.value=c,d(c),m)throw c}finally{u.value=!1}return h.value}l&&p(f);const _={state:h,isReady:g,isLoading:u,error:w,execute:p,executeImmediate:(...i)=>p(0,...i)};function S(){return new Promise((i,s)=>{B(u).toBe(!1).then(()=>i(_)).catch(s)})}return{..._,then(i,s){return S().then(i,s)}}}function M(e){return JSON.parse(JSON.stringify(e))}const x=new Map;function P(e){const t=D();function r(o){var n;const a=x.get(e)||new Set;a.add(o),x.set(e,a);const m=()=>l(o);return(n=t?.cleanups)==null||n.push(m),m}function v(o){function n(...a){l(n),o(...a)}return r(n)}function l(o){const n=x.get(e);n&&(n.delete(o),n.size||f())}function f(){x.delete(e)}function d(o,n){var a;(a=x.get(e))==null||a.forEach(m=>m(o,n))}return{on:r,once:v,off:l,emit:d,reset:f}}function Z(e,t,r,v={}){var l,f,d;const{clone:o=!1,passive:n=!1,eventName:a,deep:m=!1,defaultValue:h,shouldEmit:g}=v,u=I(),w=r||u?.emit||((l=u?.$emit)==null?void 0:l.bind(u))||((d=(f=u?.proxy)==null?void 0:f.$emit)==null?void 0:d.bind(u?.proxy));let p=a;p=p||`update:${t.toString()}`;const _=s=>o?typeof o=="function"?o(s):M(s):s,S=()=>L(e[t])?_(e[t]):h,i=s=>{g?g(s)&&w(p,s):w(p,s)};if(n){const s=S(),b=V(s);let c=!1;return O(()=>e[t],y=>{c||(c=!0,b.value=_(y),A(()=>c=!1))}),O(b,y=>{!c&&(y!==e[t]||m)&&i(y)},{deep:m}),b}else return J({get(){return S()},set(s){i(s)}})}export{Z as a,P as b,q as c,K as u};
