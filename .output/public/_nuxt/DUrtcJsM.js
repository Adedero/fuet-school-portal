import{_ as j}from"./D8n4x_QM.js";import{_ as N}from"./Br_2l1z2.js";import{f as $,M as k,c as a,j as u,k as t,b as n,a as e,t as i,d as x,o as l,m as A,l as R,v as I,s as S,g as C}from"#entry";import{_ as P}from"./CRVZdzxc.js";import{_ as B}from"./CuPKMK4g.js";import{n as z}from"./Zkazc4B7.js";import{a as M}from"./CYevZm-i.js";import{u as E}from"./DmuB_ewQ.js";import{u as D}from"./BoFo4Dkd.js";import"./BrTgbP-L.js";const T={key:0,class:"flex-col-center gap-1"},V={key:1},O={key:2,id:"admission-letter-document",class:"overflow-x-auto"},W={class:"border border-muted min-w-[400px] print:border-none print:w-[210mm] print:h-[297mm] print:p-[0.75in] p-5"},q={class:"space-y-10"},H={class:"flex-col-center text-center"},U={class:"font-bold"},G={class:"mt-5"},J={class:"space-y-5"},K=$({__name:"admission-letter",props:{applicationId:{}},setup(h){const d=R(),{data:r,error:_,pending:f,refresh:c}=E(`/api/general/applications/review/${h.applicationId}`,{pick:["firstName","middleName","otherNames","lastName","gender","jambRegNumber","schoolSessionName","course","degreeType","updatedAt"]},"$-laiiEBMEh"),b=k(()=>{const{firstName:m="",middleName:s="",otherNames:g="",lastName:p=""}=r.value??{};return`${m} ${s} ${g} ${p}`});return(m,s)=>{const g=A,p=N,o=B;return l(),a("div",null,[t(f)?(l(),a("div",T,[n(g,{name:"lucide:loader",size:"2rem",class:"animate-spin"}),s[0]||(s[0]=e("p",{class:"text-sm text-muted font-semibold"},"Loading",-1))])):t(_)?(l(),a("div",V,[n(p,{message:`Failed to load admission letter: ${("normalizeException"in m?m.normalizeException:t(z))(t(_)).message}`,"show-retry":"",onRetry:t(c)},null,8,["message","onRetry"])])):t(r)?(l(),a("div",O,[e("div",W,[e("div",q,[e("header",H,[n(o,{width:60})]),e("section",null,[e("h1",U,i(t(d).public.schoolNameLong),1),s[1]||(s[1]=e("p",null,"Office of the Registrar",-1)),e("p",null,i(t(I)(t(r).updatedAt,"MMMM DD, YYYY")),1),e("p",G,"Dear "+i(t(b))+",",1),s[2]||(s[2]=e("p",{class:"my-5 text-center font-bold uppercase"},"Admission Letter",-1))]),e("section",J,[e("p",null,[x(" I am pleased to inform you that you have been offered provisional admission into the "+i(t(d).public.schoolNameLong)+" for the ",1),e("b",null,i(t(r).schoolSessionName),1),s[3]||(s[3]=x(" academic session. You have been admitted to study: ",-1))]),e("div",null,[e("p",null,[s[4]||(s[4]=x(" Programme: ",-1)),e("b",null,i(t(r).course)+", "+i(t(r).degreeType),1)]),e("p",null,[s[5]||(s[5]=x(" Faculty: ",-1)),e("b",null,i(t(M).find(y=>y.name===t(r)?.course)?.faculty),1)])]),s[8]||(s[8]=e("p",null," Please note that this offer of admission is conditional. Your admission will only be considered valid upon the payment of the prescribed admission acceptance and registration fees within the stipulated deadline. Failure to complete this requirement will lead to the withdrawal of your admission offer. ",-1)),s[9]||(s[9]=e("p",null," You are also expected to present all relevant academic credentials for verification during registration. ",-1)),s[10]||(s[10]=e("p",null," We congratulate you on your achievement and look forward to welcoming you to the Federal University of Environment and Technology. ",-1)),e("div",null,[s[6]||(s[6]=e("p",null,"Sincerely, [Registrar's Name] Registrar",-1)),e("p",null,i(t(d).public.schoolNameLong),1),s[7]||(s[7]=e("p",null,"[signature]",-1))])])])])])):u("",!0)])}}}),Q=Object.assign(K,{__name:"AppAdmissionLetter"}),X={class:"w-full"},Z={class:"lg:max-w-[70%] mx-auto"},ee={class:"text-xl font-bold"},te={class:"my-5"},se={key:0},oe={key:1,class:"mt-10"},ne={key:0,class:"flex-col-center gap-2.5"},ie={key:1,class:"flex-col-center gap-2.5"},ae={key:2,class:"flex-col-center gap-2.5"},le={key:3,class:"flex-col-center gap-2.5"},re={class:"text-center"},ce={class:"block max-w-80 text-center"},de={class:"w-full"},me={class:"flex items-center gap-2 justify-between"},pe={class:"mt-5"},Ne=$({__name:"index",async setup(h){let d,r;const _=R(),{applicationId:f=""}=D(),{data:c,error:b,refresh:m}=([d,r]=S(()=>E(`/api/users/applicant/applications/${f}`,"$9I_NOPHIRb")),d=await d,r(),d),s=k(()=>{switch(c.value?.status??""){case"pending":return"info";case"submitted":return"warning";case"accepted":return"success";case"rejected":return"error";default:return"neutral"}}),g=()=>window.print();return(p,o)=>{const y=j,L=N,v=A,w=C,Y=P,F=Q;return l(),a("div",X,[e("div",Z,[e("header",null,[e("h1",ee,[o[0]||(o[0]=x(" Admission Status ",-1)),n(y,{label:t(c)?.status??"uknown",color:t(s),variant:"subtle"},null,8,["label","color"])])]),e("section",te,[t(b)?(l(),a("div",se,[n(L,{message:("normalizeException"in p?p.normalizeException:t(z))(t(b)).message,"show-retry":"",onRetry:t(m)},null,8,["message","onRetry"])])):t(c)?(l(),a("div",oe,[t(c).status==="pending"?(l(),a("div",ne,[n(v,{name:"lucide:clock",size:"5rem",class:"text-muted"}),o[1]||(o[1]=e("div",{class:"text-center"},[e("p",{class:"text-sm font-semibold"},"Application Pending"),e("small",{class:"block max-w-80 text-center"}," Your application has not been submitted. ")],-1))])):u("",!0),t(c).status==="submitted"?(l(),a("div",ie,[n(v,{name:"lucide:view",size:"5rem",class:"text-muted"}),o[2]||(o[2]=e("div",{class:"text-center"},[e("p",{class:"text-sm font-semibold"},"Application Submitted"),e("small",{class:"block max-w-80 text-center"}," Your application has been submitted and is being reviewed. ")],-1))])):u("",!0),t(c).status==="rejected"?(l(),a("div",ae,[n(v,{name:"lucide:circle-x",size:"5rem",class:"text-red-500"}),o[3]||(o[3]=e("div",{class:"text-center"},[e("p",{class:"font-semibold text-red-500"},"Application Rejected"),e("small",{class:"block max-w-80 text-center"}," We regret to inform you that your application has been rejected. ")],-1))])):u("",!0),t(c).status==="accepted"?(l(),a("div",le,[n(v,{name:"lucide:circle-check",size:"5rem",class:"text-green-500"}),e("div",re,[o[4]||(o[4]=e("p",{class:"font-semibold text-green-500"},"Congratulations",-1)),e("small",ce," You have been granted admission into the "+i(t(_).public.schoolNameLong)+" ("+i(t(_).public.schoolNameShort)+") ",1)]),e("div",null,[n(w,{to:`/application/portal/${t(f)}/payment`,label:"Pay Admission Fees",icon:"lucide:credit-card"},null,8,["to"])]),e("div",de,[n(Y,{class:"my-5"}),e("div",null,[e("div",me,[o[5]||(o[5]=e("p",{class:"font-semibold"},"Admission Letter",-1)),n(w,{label:"Print",icon:"lucide:printer",color:"neutral",variant:"outline",size:"sm",onClick:g})]),e("div",pe,[n(F,{"application-id":t(f)},null,8,["application-id"])])])])])):u("",!0)])):u("",!0)])])])}}});export{Ne as default};
