import{_ as re}from"./Qt6v6xVn.js";import{a9 as ie,f as B,aa as W,ab as X,ac as L,M as z,i as R,o as m,w as _,O as S,j as V,k as a,Y as I,E as Z,Q as K,ad as ee,b,ae as oe,B as A,af as O,ag as de,ah as ne,T as ue,L as ce,ai as pe,aj as fe,U as me,ak as ve,N as Y,a as f,c as w,P as $,d as G,t as E,F as be,r as ge,q as H,al as D,a2 as ae,g as T,a1 as J,s as he,D as N,I as ye}from"#entry";import{L as Q}from"./BZPIhiCP.js";import{u as _e}from"./DxgE_vvP.js";import{u as te}from"./CrxYuplo.js";import{R as ke}from"./CMJ2FhCh.js";import{V as se}from"./bGYnQNJU.js";import{R as qe}from"./TqetoPtQ.js";import{_ as xe}from"./RyBLt_tc.js";import{_ as we}from"./CNL1yBOL.js";import{_ as Re}from"./CdUQPPYw.js";import{_ as Ve}from"./yYfIByUV.js";import{_ as ze}from"./Br_2l1z2.js";import{_ as $e}from"./rN6nCneX.js";import{n as Se}from"./Zkazc4B7.js";import{columns as Ce}from"./B2SRwiuJ.js";import{u as Fe}from"./C1RyDYw7.js";import"./DUGQhyV-.js";import"./C7XPntmp.js";import"./DD2e9X2d.js";import"./D1lORq9n.js";import"./BFQ-zme-.js";import"./BXv2KLq8.js";import"./BrTgbP-L.js";const Be="radio.select";function Pe(d,u,e){ie(Be,e,{originalEvent:d,value:u})}var Ae=B({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(d,{emit:u}){const e=d,t=u,l=W(e,"checked",t,{passive:e.checked===void 0}),{value:g}=X(e),{forwardRef:s,currentElement:c}=L(),p=te(c),y=z(()=>e.id&&c.value?document.querySelector(`[for="${e.id}"]`)?.innerText??e.value:void 0);function h(r){e.disabled||Pe(r,e.value,q=>{t("select",q),!q?.defaultPrevented&&(l.value=!0,p.value&&q.stopPropagation())})}return(r,q)=>(m(),R(a(K),I(r.$attrs,{id:r.id,ref:a(s),role:"radio",type:r.as==="button"?"button":void 0,as:r.as,"aria-checked":a(l),"aria-label":y.value,"as-child":r.asChild,disabled:r.disabled?"":void 0,"data-state":a(l)?"checked":"unchecked","data-disabled":r.disabled?"":void 0,value:a(g),required:r.required,name:r.name,onClick:Z(h,["stop"])}),{default:_(()=>[S(r.$slots,"default",{checked:a(l)}),a(p)&&r.name?(m(),R(a(se),{key:0,type:"radio",tabindex:"-1",value:a(g),checked:!!a(l),name:r.name,disabled:r.disabled,required:r.required},null,8,["value","checked","name","disabled","required"])):V("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),Ee=Ae;const[Ge,Ie]=ee("RadioGroupRoot");var Ne=B({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(d,{emit:u}){const e=d,t=u,{forwardRef:l,currentElement:g}=L(),s=W(e,"modelValue",t,{defaultValue:e.defaultValue,passive:e.modelValue===void 0}),{disabled:c,loop:p,orientation:y,name:h,required:r,dir:q}=X(e),k=_e(q),x=te(g);return Ie({modelValue:s,changeModelValue:i=>{s.value=i},disabled:c,loop:p,orientation:y,name:h?.value,required:r}),(i,n)=>(m(),R(a(ke),{"as-child":"",orientation:a(y),dir:a(k),loop:a(p)},{default:_(()=>[b(a(K),{ref:a(l),role:"radiogroup","data-disabled":a(c)?"":void 0,"as-child":i.asChild,as:i.as,"aria-orientation":a(y),"aria-required":a(r),dir:a(k)},{default:_(()=>[S(i.$slots,"default",{modelValue:a(s)}),a(x)&&a(h)?(m(),R(a(se),{key:0,required:a(r),disabled:a(c),value:a(s),name:a(h)},null,8,["required","disabled","value","name"])):V("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),Le=Ne;const[Ue,je]=ee("RadioGroupItem");var Me=B({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(d,{emit:u}){const e=d,t=u,{forwardRef:l,currentElement:g}=L(),s=Ge(),c=z(()=>s.disabled.value||e.disabled),p=z(()=>s.required.value||e.required),y=z(()=>oe(s.modelValue?.value,e.value));je({disabled:c,checked:y});const h=A(!1),r=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];O("keydown",k=>{r.includes(k.key)&&(h.value=!0)}),O("keyup",()=>{h.value=!1});function q(){setTimeout(()=>{h.value&&g.value?.click()},0)}return(k,x)=>(m(),R(a(qe),{checked:y.value,disabled:c.value,"as-child":"",focusable:!c.value,active:y.value},{default:_(()=>[b(Ee,I({...k.$attrs,...e},{ref:a(l),checked:y.value,required:p.value,disabled:c.value,"onUpdate:checked":x[0]||(x[0]=i=>a(s).changeModelValue(k.value)),onSelect:x[1]||(x[1]=i=>t("select",i)),onKeydown:x[2]||(x[2]=de(Z(()=>{},["prevent"]),["enter"])),onFocus:q}),{default:_(()=>[S(k.$slots,"default",{checked:y.value,required:p.value,disabled:c.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),De=Me,Ke=B({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(d){const{forwardRef:u}=L(),e=Ue();return(t,l)=>(m(),R(a(ne),{present:t.forceMount||a(e).checked.value},{default:_(()=>[b(a(K),I({ref:a(u),"data-state":a(e).checked.value?"checked":"unchecked","data-disabled":a(e).disabled.value?"":void 0,"as-child":t.asChild,as:t.as},t.$attrs),{default:_(()=>[S(t.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Te=Ke;const Oe={slots:{root:"relative",fieldset:"flex gap-x-2",legend:"mb-1 block font-medium text-default",item:"flex items-start",container:"flex items-center",base:"rounded-full ring ring-inset ring-accented overflow-hidden focus-visible:outline-2 focus-visible:outline-offset-2",indicator:"flex items-center justify-center size-full after:bg-default after:rounded-full",wrapper:"w-full",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"focus-visible:outline-primary",indicator:"bg-primary"},secondary:{base:"focus-visible:outline-secondary",indicator:"bg-secondary"},success:{base:"focus-visible:outline-success",indicator:"bg-success"},info:{base:"focus-visible:outline-info",indicator:"bg-info"},warning:{base:"focus-visible:outline-warning",indicator:"bg-warning"},error:{base:"focus-visible:outline-error",indicator:"bg-error"},neutral:{base:"focus-visible:outline-inverted",indicator:"bg-inverted"}},variant:{list:{item:""},card:{item:"border border-muted rounded-lg"},table:{item:"border border-muted"}},orientation:{horizontal:{fieldset:"flex-row"},vertical:{fieldset:"flex-col"}},indicator:{start:{item:"flex-row",wrapper:"ms-2"},end:{item:"flex-row-reverse",wrapper:"me-2"},hidden:{base:"sr-only",wrapper:"text-center"}},size:{xs:{fieldset:"gap-y-0.5",legend:"text-xs",base:"size-3",item:"text-xs",container:"h-4",indicator:"after:size-1"},sm:{fieldset:"gap-y-0.5",legend:"text-xs",base:"size-3.5",item:"text-xs",container:"h-4",indicator:"after:size-1"},md:{fieldset:"gap-y-1",legend:"text-sm",base:"size-4",item:"text-sm",container:"h-5",indicator:"after:size-1.5"},lg:{fieldset:"gap-y-1",legend:"text-sm",base:"size-4.5",item:"text-sm",container:"h-5",indicator:"after:size-1.5"},xl:{fieldset:"gap-y-1.5",legend:"text-base",base:"size-5",item:"text-base",container:"h-6",indicator:"after:size-2"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75"}},required:{true:{legend:"after:content-['*'] after:ms-0.5 after:text-error"}}},compoundVariants:[{size:"xs",variant:["card","table"],class:{item:"p-2.5"}},{size:"sm",variant:["card","table"],class:{item:"p-3"}},{size:"md",variant:["card","table"],class:{item:"p-3.5"}},{size:"lg",variant:["card","table"],class:{item:"p-4"}},{size:"xl",variant:["card","table"],class:{item:"p-4.5"}},{orientation:"horizontal",variant:"table",class:{item:"first-of-type:rounded-s-lg last-of-type:rounded-e-lg",fieldset:"gap-0 -space-x-px"}},{orientation:"vertical",variant:"table",class:{item:"first-of-type:rounded-t-lg last-of-type:rounded-b-lg",fieldset:"gap-0 -space-y-px"}},{color:"primary",variant:"card",class:{item:"has-data-[state=checked]:border-primary"}},{color:"secondary",variant:"card",class:{item:"has-data-[state=checked]:border-secondary"}},{color:"success",variant:"card",class:{item:"has-data-[state=checked]:border-success"}},{color:"info",variant:"card",class:{item:"has-data-[state=checked]:border-info"}},{color:"warning",variant:"card",class:{item:"has-data-[state=checked]:border-warning"}},{color:"error",variant:"card",class:{item:"has-data-[state=checked]:border-error"}},{color:"neutral",variant:"card",class:{item:"has-data-[state=checked]:border-inverted"}},{color:"primary",variant:"table",class:{item:"has-data-[state=checked]:bg-primary/10 has-data-[state=checked]:border-primary/50 has-data-[state=checked]:z-[1]"}},{color:"secondary",variant:"table",class:{item:"has-data-[state=checked]:bg-secondary/10 has-data-[state=checked]:border-secondary/50 has-data-[state=checked]:z-[1]"}},{color:"success",variant:"table",class:{item:"has-data-[state=checked]:bg-success/10 has-data-[state=checked]:border-success/50 has-data-[state=checked]:z-[1]"}},{color:"info",variant:"table",class:{item:"has-data-[state=checked]:bg-info/10 has-data-[state=checked]:border-info/50 has-data-[state=checked]:z-[1]"}},{color:"warning",variant:"table",class:{item:"has-data-[state=checked]:bg-warning/10 has-data-[state=checked]:border-warning/50 has-data-[state=checked]:z-[1]"}},{color:"error",variant:"table",class:{item:"has-data-[state=checked]:bg-error/10 has-data-[state=checked]:border-error/50 has-data-[state=checked]:z-[1]"}},{color:"neutral",variant:"table",class:{item:"has-data-[state=checked]:bg-elevated has-data-[state=checked]:border-inverted/50 has-data-[state=checked]:z-[1]"}},{variant:["card","table"],disabled:!0,class:{item:"cursor-not-allowed opacity-75"}}],defaultVariants:{size:"md",color:"primary",variant:"list",orientation:"vertical",indicator:"start"}},Ye={__name:"NuxtRadioGroup",props:{as:{type:null,required:!1},legend:{type:String,required:!1},valueKey:{type:String,required:!1,default:"value"},labelKey:{type:String,required:!1,default:"label"},descriptionKey:{type:String,required:!1,default:"description"},items:{type:Array,required:!1},size:{type:null,required:!1},variant:{type:null,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:"vertical"},indicator:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},modelValue:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","change"],setup(d,{emit:u}){const e=d,t=u,l=ue(),g=ce(),s=pe(fe(e,"as","modelValue","defaultValue","orientation","loop","required"),t),{emitFormChange:c,emitFormInput:p,color:y,name:h,size:r,id:q,disabled:k,ariaAttrs:x}=me(e,{bind:!1}),i=q.value??ve(),n=z(()=>Y({extend:Y(Oe),...g.ui?.radioGroup||{}})({size:r.value,color:y.value,disabled:k.value,required:e.required,orientation:e.orientation,variant:e.variant,indicator:e.indicator}));function U(v){if(v===null)return{id:`${i}:null`,value:void 0,label:void 0};if(typeof v=="string"||typeof v=="number"||typeof v=="bigint")return{id:`${i}:${v}`,value:String(v),label:String(v)};const C=D(v,e.valueKey),P=D(v,e.labelKey),o=D(v,e.descriptionKey);return{...v,value:C,label:P,description:o,id:`${i}:${C}`}}const j=z(()=>e.items?e.items.map(U):[]);function M(v){const C=new Event("change",{target:{value:v}});t("change",C),c(),p()}return(v,C)=>(m(),R(a(Le),I({id:a(i)},a(s),{name:a(h),disabled:a(k),class:n.value.root({class:[e.ui?.root,e.class]}),"onUpdate:modelValue":M}),{default:_(({modelValue:P})=>[f("fieldset",I({class:n.value.fieldset({class:e.ui?.fieldset})},a(x)),[d.legend||l.legend?(m(),w("legend",{key:0,class:$(n.value.legend({class:e.ui?.legend}))},[S(v.$slots,"legend",{},()=>[G(E(d.legend),1)])],2)):V("",!0),(m(!0),w(be,null,ge(j.value,o=>(m(),R(H(!d.variant||d.variant==="list"?"div":a(Q)),{key:o.value,class:$(n.value.item({class:[e.ui?.item,o.ui?.item,o.class]}))},{default:_(()=>[f("div",{class:$(n.value.container({class:[e.ui?.container,o.ui?.container]}))},[b(a(De),{id:o.id,value:o.value,disabled:o.disabled,class:$(n.value.base({class:[e.ui?.base,o.ui?.base],disabled:o.disabled}))},{default:_(()=>[b(a(Te),{class:$(n.value.indicator({class:[e.ui?.indicator,o.ui?.indicator]}))},null,8,["class"])]),_:2},1032,["id","value","disabled","class"])],2),o.label||l.label||o.description||l.description?(m(),w("div",{key:0,class:$(n.value.wrapper({class:[e.ui?.wrapper,o.ui?.wrapper]}))},[o.label||l.label?(m(),R(H(!d.variant||d.variant==="list"?a(Q):"p"),{key:0,for:o.id,class:$(n.value.label({class:[e.ui?.label,o.ui?.label]}))},{default:_(()=>[S(v.$slots,"label",{item:o,modelValue:P},()=>[G(E(o.label),1)])]),_:2},1032,["for","class"])):V("",!0),o.description||l.description?(m(),w("p",{key:1,class:$(n.value.description({class:[e.ui?.description,o.ui?.description]}))},[S(v.$slots,"description",{item:o,modelValue:P},()=>[G(E(o.description),1)])],2)):V("",!0)],2)):V("",!0)]),_:2},1032,["class"]))),128))],16)]),_:3},16,["id","name","disabled","class"]))}},He={class:"p-5"},Je={class:"mt-2.5"},Qe={class:"grid gap-2"},We={class:"grid gap-2"},Xe=B({__name:"filter-select",props:{filters:{default:{status:"all",admissionFees:"all"}},filtersModifiers:{}},emits:["update:filters"],setup(d){const u=ae(d,"filters");return(e,t)=>{const l=T,g=Ye,s=xe,c=we;return m(),R(c,{title:"Filters"},{content:_(()=>[f("div",He,[t[4]||(t[4]=f("p",{class:"font-bold"},"Filters",-1)),f("div",Je,[f("div",Qe,[t[2]||(t[2]=f("p",{class:"text-sm font-semibold text-muted"},"Admission Status",-1)),b(g,{modelValue:u.value.status,"onUpdate:modelValue":t[0]||(t[0]=p=>u.value.status=p),items:["all","accepted","rejected"]},null,8,["modelValue"])]),b(s,{class:"my-2.5"}),f("div",We,[t[3]||(t[3]=f("p",{class:"text-sm font-semibold text-muted"},"Admission Fees",-1)),b(g,{modelValue:u.value.admissionFees,"onUpdate:modelValue":t[1]||(t[1]=p=>u.value.admissionFees=p),items:["all","paid","unpaid"]},null,8,["modelValue"])])])])]),default:_(()=>[S(e.$slots,"default",{},()=>[b(l,{icon:"lucide:filter",color:"neutral",variant:"ghost",size:"sm"})])]),_:3})}}}),Ze=Object.assign(Xe,{__name:"ApplicationFilterSelect"}),ea={class:"w-full select-none"},aa={class:"w-full flex items-center justify-center gap-2 bg-white p-2 rounded-lg"},ta={class:"border border-default rounded-md flex p-1 items-center gap-2 flex-shrink-0 text-sm","aria-label":"Current Page"},sa={key:0,class:"text-center flex-shrink-0 py-1 px-2"},la={class:"font-medium"},ra={class:"font-medium"},ia={class:"border border-default text-center p-1 px-2 rounded-md"},oa={class:"font-medium text-muted"},da={key:0,class:"text-center mt-2 text-sm text-muted"},na=B({__name:"pagination",props:J({allLoaded:{type:Boolean,default:!1},totalPages:{default:()=>{}},rows:{default:()=>{}},length:{default:()=>{}}},{page:{default:0},pageModifiers:{}}),emits:J(["next","prev"],["update:page"]),setup(d,{emit:u}){const e=ae(d,"page"),t=u,l=()=>{e.value!==0&&(e.value-=1,t("prev",e.value))},g=()=>{d.allLoaded||d.totalPages!==void 0&&e.value>=d.totalPages-1||(e.value+=1,t("next",e.value))};return(s,c)=>{const p=T;return m(),w("div",ea,[f("div",aa,[b(p,{"aria-label":"Previous Page",disabled:e.value<1,size:"sm",color:"neutral",variant:"outline",icon:"lucide:chevron-left",onClick:l},null,8,["disabled"]),f("div",ta,[s.rows&&s.length?(m(),w("div",sa,[f("span",la,E(e.value*s.rows+1),1),c[0]||(c[0]=G(" to ",-1)),f("span",ra,E(Math.min((e.value+1)*s.rows,s.length)),1)])):V("",!0),f("p",ia,[c[1]||(c[1]=G(" page ",-1)),f("span",oa,E(e.value+1),1)])]),b(p,{"aria-label":"Next Page",disabled:s.allLoaded||s.totalPages!==void 0&&e.value>=s.totalPages-1,size:"sm",color:"neutral",variant:"outline","trailing-icon":"lucide:chevron-right",onClick:g},null,8,["disabled"])]),s.allLoaded?(m(),w("div",da," All data loaded ")):V("",!0)])}}}),ua=Object.assign(na,{__name:"VuePagination"}),ca={class:"p-5"},pa={class:"flex items-center gap-5 justify-between"},fa={class:"flex items-center gap-2"},ma={class:"mt-3"},va={class:"mt-5"},ba={key:0},ga={key:1},ha={class:"flex justify-center border-t border-default pt-4"},Da=B({__name:"index",async setup(d){let u,e;const t=A(),l=A({status:"all",admissionFees:"all"}),g=A(20),s=A(0),c=z(()=>g.value*s.value),p=A(),y=z(()=>{const i=new URLSearchParams;return l.value.status!=="all"&&i.set("admissionStatus",l.value.status),l.value.admissionFees!=="all"&&i.set("hasPaidAdmissionFee",l.value.admissionFees==="paid"?"true":""),t.value&&i.set("schoolSessionName",t.value.name),p.value&&i.set("search",p.value),i.set("limit",g.value.toString()),i.set("offset",c.value.toString()),Object.fromEntries(i.entries())}),{data:h,error:r,refresh:q}=([u,e]=he(()=>Fe("/api/users/admin/applications",{query:y},"$YPsJYU9EmC")),u=await u,e(),u),k=z(()=>(h.value?.length??0)<g.value);function x(i){const n=i.getValue("id");ye(`/portal/admin/applications/${n}`)}return(i,n)=>{const U=re,j=Ze,M=Re,v=T,C=Ve,P=ze,o=$e,le=ua;return m(),w("div",ca,[f("header",null,[f("div",pa,[n[4]||(n[4]=f("h1",{class:"text-lg font-bold"},"Applications",-1)),f("div",fa,[b(U,{modelValue:a(t),"onUpdate:modelValue":n[0]||(n[0]=F=>N(t)?t.value=F:null),size:"sm"},null,8,["modelValue"]),b(j,{filters:a(l),"onUpdate:filters":n[1]||(n[1]=F=>N(l)?l.value=F:null)},null,8,["filters"])])]),f("div",ma,[b(C,{class:"w-full md:w-fit"},{default:_(()=>[b(M,{modelValue:a(p),"onUpdate:modelValue":n[2]||(n[2]=F=>N(p)?p.value=F:null),size:"sm",placeholder:"Search...",class:"w-full md:w-fit"},null,8,["modelValue"]),b(v,{icon:"lucide:search",color:"neutral",variant:"outline",size:"sm"})]),_:1})])]),f("section",va,[a(r)?(m(),w("div",ba,[b(P,{message:("normalizeException"in i?i.normalizeException:a(Se))(a(r)).message,"show-retry":"",onRetry:a(q)},null,8,["message","onRetry"])])):a(h)?(m(),w("div",ga,[b(o,{data:a(h),columns:a(Ce),onSelect:x},null,8,["data","columns"]),f("div",ha,[b(le,{page:a(s),"onUpdate:page":n[3]||(n[3]=F=>N(s)?s.value=F:null),rows:a(g),length:a(h).length,"all-loaded":a(k)},null,8,["page","rows","length","all-loaded"])])])):V("",!0)])])}}});export{Da as default};
