import{bb as D,x,b7 as _,ib as J,ic as k,id as P,f as $,ie as j,ig as z,aI as B,R as N,Q as C,ih as L,ii as R,$ as W,bo as Z,ij as H,ik as V,il as K,im as Q,io as q,ip as G,i as U,V as X,bd as Y}from"#entry";function ue(e={}){const{inheritAttrs:a=!0}=e,o=D(),g=$({setup(m,{slots:p}){return()=>{o.value=p.default}}}),i=$({inheritAttrs:a,props:e.props,setup(m,{attrs:p,slots:t}){return()=>{var n;o.value;const r=(n=o.value)==null?void 0:n.call(o,{...e.props==null?ee(p):m,$slots:t});return a&&r?.length===1?r[0]:r}}});return j({define:g,reuse:i},[g,i])}function ee(e){const a={};for(const o in e)a[z(o)]=e[o];return a}const ne=L?window:void 0,te=L?window.document:void 0;function M(e){var a;const o=_(e);return(a=o?.$el)!=null?a:o}function F(...e){const a=[],o=()=>{a.forEach(t=>t()),a.length=0},g=(t,n,r,v)=>(t.addEventListener(n,r,v),()=>t.removeEventListener(n,r,v)),i=C(()=>{const t=V(_(e[0])).filter(n=>n!=null);return t.every(n=>typeof n!="string")?t:void 0}),m=K(()=>{var t,n;return[(n=(t=i.value)==null?void 0:t.map(r=>M(r)))!=null?n:[ne].filter(r=>r!=null),V(_(i.value?e[1]:e[0])),V(U(i.value?e[2]:e[1])),_(i.value?e[3]:e[2])]},([t,n,r,v])=>{if(o(),!t?.length||!n?.length||!r?.length)return;const f=G(v)?{...v}:v;a.push(...t.flatMap(s=>n.flatMap(c=>r.map(T=>g(s,c,T,f)))))},{flush:"post"}),p=()=>{m(),o()};return Q(o),p}function se(e,a,o){var g;const{immediate:i=!0,delay:m=0,onError:p=(g=globalThis.reportError)!=null?g:k,onSuccess:t=k,resetOnExecute:n=!0,shallow:r=!0,throwError:v}={},f=r?D(a):x(a),s=D(!1),c=D(!1),T=D(void 0);async function b(d=0,...u){n&&(f.value=_(a)),T.value=void 0,s.value=!1,c.value=!0,d>0&&await J(d);const E=typeof e=="function"?e(...u):e;try{const y=await E;f.value=y,s.value=!0,t(y)}catch(y){if(T.value=y,p(y),v)throw y}finally{c.value=!1}return f.value}i&&b(m);const l={state:f,isReady:s,isLoading:c,error:T,execute:b,executeImmediate:(...d)=>b(0,...d)};function h(){return new Promise((d,u)=>{P(c).toBe(!1).then(()=>d(l)).catch(u)})}return{...l,then(d,u){return h().then(d,u)}}}function le(e){return JSON.parse(JSON.stringify(e))}function ie(e,a={}){var o,g;const i=D(!1),m=D(null);let p=0,t=!0;if(L){const n=typeof a=="function"?{onDrop:a}:a,r=(o=n.multiple)!=null?o:!0,v=(g=n.preventDefaultForUnhandled)!=null?g:!1,f=l=>{var h,d;const u=Array.from((d=(h=l.dataTransfer)==null?void 0:h.files)!=null?d:[]);return u.length===0?null:r?u:[u[0]]},s=l=>{const h=U(n.dataTypes);return typeof h=="function"?h(l):h?.length?l.length===0?!1:l.every(d=>h.some(u=>d.includes(u))):!0},c=l=>{const h=Array.from(l??[]).map(E=>E.type),d=s(h),u=r||l.length<=1;return d&&u},T=()=>/^(?:(?!chrome|android).)*safari/i.test(navigator.userAgent)&&!("chrome"in window),b=(l,h)=>{var d,u,E,y,w,S;const I=(d=l.dataTransfer)==null?void 0:d.items;if(t=(u=I&&c(I))!=null?u:!1,v&&l.preventDefault(),!T()&&!t){l.dataTransfer&&(l.dataTransfer.dropEffect="none");return}l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect="copy");const A=f(l);switch(h){case"enter":p+=1,i.value=!0,(E=n.onEnter)==null||E.call(n,null,l);break;case"over":(y=n.onOver)==null||y.call(n,null,l);break;case"leave":p-=1,p===0&&(i.value=!1),(w=n.onLeave)==null||w.call(n,null,l);break;case"drop":p=0,i.value=!1,t&&(m.value=A,(S=n.onDrop)==null||S.call(n,A,l));break}};F(e,"dragenter",l=>b(l,"enter")),F(e,"dragover",l=>b(l,"over")),F(e,"dragleave",l=>b(l,"leave")),F(e,"drop",l=>b(l,"drop"))}return{files:m,isOverDropZone:i}}const O=new Map;function ce(e){const a=Y();function o(t){var n;const r=O.get(e)||new Set;r.add(t),O.set(e,r);const v=()=>i(t);return(n=a?.cleanups)==null||n.push(v),v}function g(t){function n(...r){i(n),t(...r)}return o(n)}function i(t){const n=O.get(e);n&&(n.delete(t),n.size||m())}function m(){O.delete(e)}function p(t,n){var r;(r=O.get(e))==null||r.forEach(v=>v(t,n))}return{on:o,once:g,off:i,emit:p,reset:m}}const ae={multiple:!0,accept:"*",reset:!1,directory:!1};function re(e){if(!e)return null;if(e instanceof FileList)return e;const a=new DataTransfer;for(const o of e)a.items.add(o);return a.files}function fe(e={}){const{document:a=te}=e,o=x(re(e.initialFiles)),{on:g,trigger:i}=R(),{on:m,trigger:p}=R(),t=C(()=>{var f;const s=(f=M(e.input))!=null?f:a?a.createElement("input"):void 0;return s&&(s.type="file",s.onchange=c=>{const T=c.target;o.value=T.files,i(o.value)},s.oncancel=()=>{p()}),s}),n=()=>{o.value=null,t.value&&t.value.value&&(t.value.value="",i(null))},r=f=>{const s=t.value;s&&(s.multiple=_(f.multiple),s.accept=_(f.accept),s.webkitdirectory=_(f.directory),q(f,"capture")&&(s.capture=_(f.capture)))},v=f=>{const s=t.value;if(!s)return;const c={...ae,...e,...f};r(c),_(c.reset)&&n(),s.click()};return W(()=>{r(e)}),{files:Z(o),open:v,reset:n,onCancel:m,onChange:g}}function de(e,a,o,g={}){var i,m,p;const{clone:t=!1,passive:n=!1,eventName:r,deep:v=!1,defaultValue:f,shouldEmit:s}=g,c=B(),T=o||c?.emit||((i=c?.$emit)==null?void 0:i.bind(c))||((p=(m=c?.proxy)==null?void 0:m.$emit)==null?void 0:p.bind(c?.proxy));let b=r;b=b||`update:${a.toString()}`;const l=u=>t?typeof t=="function"?t(u):le(u):u,h=()=>H(e[a])?l(e[a]):f,d=u=>{s?s(u)&&T(b,u):T(b,u)};if(n){const u=h(),E=x(u);let y=!1;return N(()=>e[a],w=>{y||(y=!0,E.value=l(w),X(()=>y=!1))}),N(E,w=>{!y&&(w!==e[a]||v)&&d(w)},{deep:v}),E}else return C({get(){return h()},set(u){d(u)}})}export{ie as a,fe as b,ue as c,de as d,ce as e,se as u};
