import{f as x,z as $,M as w,c as b,o as m,b as a,a as e,Z as C,k as s,t as i,e as L,w as p,l as O,g as S,B,X as P,i as z,j,O as g,P as A,D as H}from"#entry";import{_ as N}from"./CuPKMK4g.js";import{_ as I}from"./CRVZdzxc.js";import{_ as D}from"./DOCcn09K.js";import{_ as M}from"./OPR3eTXJ.js";import{u as T}from"./CKheGu-s.js";import{f as V}from"./DOVLR_vN.js";const R={class:"flex-col-center gap-2.5 text-center"},U={class:"flex-col-center text-center"},E={class:"text-sm font-semibold"},W={class:"text-xs text-muted"},X={class:"text-xs font-semibold text-error uppercase"},Z=x({__name:"sidebar-header",setup(c){const t=$(),n=w(()=>{const o=(t.user.value?.name??"").split(" ");return`${o[0]} ${o.at(-1)}`});return(o,_)=>{const l=C;return m(),b("div",R,[a(l,{src:s(t).user.value?.image??void 0,alt:s(n),ui:{root:"size-20 text-3xl"}},null,8,["src","alt"]),e("div",U,[e("p",E,i(s(t).user.value?.name),1),e("p",W,i(s(t).user.value?.email),1),e("p",X,i(s(t).user.value?.role),1)])])}}}),q=Object.assign(Z,{__name:"PortalSidebarHeader"}),F={class:"px-5 py-2.5"},G={class:"flex items-center justify-between"},J={class:"leading-5 text-lg font-bold text-primary-500"},K={class:"text-[0.6rem] text-muted uppercase hidden md:block"},Q={class:"flex items-center gap-2"},Y=x({__name:"header",setup(c){const t=O(),n=$(),{logout:o}=T(),_=[[{label:n.user.value?.name??"Anonymous",type:"label",icon:"lucide:circle-user"},{label:n.user.value?.email??"unverified",icon:"lucide:mail"}],[{label:"Update email",icon:"lucide:mail-plus",to:"/change-email"},{label:"Change password",icon:"lucide:lock",to:"/change-password"}],[{label:"Log out",icon:"lucide:log-out",onSelect(){o()}}]];return(l,r)=>{const u=N,f=L,d=S,h=M;return m(),b("header",F,[e("div",G,[a(f,{class:"flex items-center gap-2"},{default:p(()=>[a(u,{width:28}),e("div",null,[e("p",J,i(s(t).public.schoolNameShort)+" Portal ",1),e("p",K,i(s(t).public.schoolNameLong),1)])]),_:1}),e("div",null,[e("div",Q,[a(h,{items:_,ui:{content:"w-60"}},{default:p(()=>[a(d,{color:"neutral",variant:"outline",icon:"lucide:user-round"})]),_:1}),a(d,{label:"Logout",onClick:s(o)},null,8,["onClick"])])])])])}}}),ee=Object.assign(Y,{__name:"PortalHeader"});function te(c){const t=B(!1),n=o=>{globalThis.localStorage&&(globalThis.localStorage.setItem(c,`${o}`),t.value=o)};return P(()=>{const o=globalThis.localStorage?.getItem(c)==="true";t.value=o}),{isOpen:t,setIsOpen:n}}const oe={class:"h-dvh lg:flex"},se={class:"p-5 shrink-0 border-b border-b-default"},ne={class:"grow overflow-y-auto p-5"},ae={class:"space-y-5"},le={class:"h-dvh lg:h-auto lg:grow overflow-y-auto"},ce={class:"flex sticky top-0 z-50 bg-white border-b border-b-muted w-full"},re={class:"flex-center pl-5"},ie={class:"w-full lg:grow"},_e=x({__name:"layout",setup(c){const{width:t}=V(),{isOpen:n,setIsOpen:o}=te("nav:open"),_=w(()=>t.value>=1024);return(l,r)=>{const u=q,f=N,d=I,h=D,k=S,y=ee;return m(),b("main",oe,[e("aside",{class:A(["hidden overflow-hidden transition-[width] lg:shrink-0 lg:flex lg:flex-col lg:h-full lg:border-r lg:border-r-default",s(n)?"w-72":"w-0"])},[e("header",se,[a(u)]),e("div",ne,[g(l.$slots,"sidebar")])],2),s(_)?j("",!0):(m(),z(h,{key:0,open:s(n),"onUpdate:open":r[0]||(r[0]=v=>H(n)?n.value=v:null),ui:{content:"max-w-96"}},{title:p(()=>[a(f,{size:"24"})]),body:p(()=>[e("div",ae,[e("header",null,[a(u)]),a(d),e("div",null,[g(l.$slots,"sidebar")])])]),_:3},8,["open"])),e("section",le,[e("div",ce,[e("div",re,[a(k,{icon:"lucide:panel-left",color:"neutral",variant:"ghost",onClick:r[1]||(r[1]=v=>s(o)(!s(n)))})]),e("div",ie,[a(y)])]),e("div",null,[g(l.$slots,"default")])])])}}}),xe=Object.assign(_e,{__name:"PortalLayout"});export{xe as _};
